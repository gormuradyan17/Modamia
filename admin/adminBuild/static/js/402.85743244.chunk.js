"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[402],{2402:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Z});var n=t(5820),l=t(370),a=t(2791),s=t(9434),i=t(1726),o=t(971),c=t(7959),d=t(2614),u=t(2201);const p=e=>{(0,u.yV)().then((r=>{e((0,d.rC)(r))})).catch((e=>console.log(e)))},v=e=>{(0,u.BT)().then((r=>{e((0,d.$u)(r))})).catch((e=>console.log(e)))};var m=t(7093),h=t(5168),g=t(4437),x=t(8779),j=t(8942),b=t(1632),f=t(9806),w=t(184);const N=()=>{const[e,r]=(0,a.useState)(!1),[t,n]=(0,a.useState)(""),l=(0,s.I0)();return(0,w.jsxs)("div",{className:"new-item-variant",children:[(0,w.jsx)("button",{type:"button",onClick:()=>{r(!e),n("")},children:"Add new type +"}),e&&(0,w.jsxs)("div",{className:"new-item-variant-save",children:[(0,w.jsx)(g.Z,{placeholder:"New type",value:t,name:"newType",callback:e=>{const{target:{value:r}}=e;n(r)}}),(0,w.jsx)("button",{type:"button",onClick:async()=>{t&&(await(0,u.ql)({name:t}),await v(l)),r(!e),n("")},children:(0,w.jsx)(f.G,{icon:b.r6l})})]})]})};var y=t(9467);const k=e=>{var r,t,n,l;let{closePopup:c}=e;const v=(0,s.I0)(),b=(0,m.X6)((0,s.v9)(d.NB))||[{}],[f,k]=(0,a.useState)({name:"",price:"",tags:"",highresurl:"",previewurl:"",colorVariant:""}),[I,_]=(0,a.useState)({}),[C,Z]=(0,a.useState)({}),U=e=>{const{target:{name:r,value:t}}=e;k({...f,[r]:t})},P=(e,r)=>{k({...f,[r]:e[0]})},$=(e,r)=>{let t={};return null===e||void 0===e||e.map((e=>{const n={[r]:null===e||void 0===e?void 0:e.name};t=(0,x.n)(n,j.un)})),Object.keys(t).length?(Z(t),!1):(Object.keys(C).length&&Z({}),!0)},D=e=>{const r=e.id;k({...f,printVariant:r})};return(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=(0,x.n)(f,j.uP);if(r)return _(r);Object.keys(r).length&&_({});const t=new FormData;Object.keys(f).forEach((e=>{t.append(e,f[e])})),await(0,u.eS)(t),await p(v),c()},className:"new-print",children:[(0,w.jsx)(o.Z,{text:"Add new print",align:"center",color:m.ue}),(0,w.jsxs)("div",{className:"new-print-inputs",children:[(0,w.jsx)(g.Z,{placeholder:"Name",value:null===f||void 0===f?void 0:f.name,label:"Name*",name:"name",error:(null===I||void 0===I||null===(r=I.name)||void 0===r?void 0:r.message)||"",callback:U}),(0,w.jsx)(g.Z,{type:"number",placeholder:"Price",value:null===f||void 0===f?void 0:f.price,label:"Price*",name:"price",error:(null===I||void 0===I||null===(t=I.price)||void 0===t?void 0:t.message)||"",callback:U}),(0,w.jsx)(g.Z,{placeholder:"Tags",value:null===f||void 0===f?void 0:f.tags,label:"Tags",name:"tags",callback:U}),(0,w.jsxs)("div",{className:"new-color-variants",children:[(0,w.jsx)(N,{}),(0,w.jsx)(y.Z,{options:b,onChange:e=>D(e),label:"Print type"})]}),(0,w.jsxs)("div",{className:"new-print-zone",children:[(0,w.jsx)(o.Z,{text:"High res image",size:"18px",color:m.ue}),(0,w.jsx)(h.Z,{width:"480px",height:"160px",name:"highresurl",validationCallback:e=>$(e,"highresurl"),error:(null===C||void 0===C||null===(n=C.highresurl)||void 0===n?void 0:n.message)||"",onChange:e=>P(e,"highresurl")})]}),(0,w.jsxs)("div",{className:"new-print-zone",children:[(0,w.jsx)(o.Z,{text:"Preview image",size:"18px",color:m.ue}),(0,w.jsx)(h.Z,{width:"480px",height:"160px",name:"previewurl",validationCallback:e=>$(e,"previewurl"),error:(null===C||void 0===C||null===(l=C.previewurl)||void 0===l?void 0:l.message)||"",onChange:e=>P(e,"previewurl")})]})]}),(0,w.jsxs)("div",{className:"new-print-actions",children:[(0,w.jsx)(i.o,{onClick:()=>c(),version:"gray",children:"Close"}),(0,w.jsx)(i.o,{type:"submit",children:"Add"})]})]})};var I=t(7098);const _=e=>{var r,t,n,l,c,u;let{callback:p,closePopup:v,print:b,setPrint:f,errors:N,printInfo:k}=e;const _=e=>{const{target:{name:r,value:t}}=e;f({...b,[r]:t})},[C,Z]=(0,a.useState)({}),U=(0,m.X6)((0,s.v9)(d.NB))||[{}],P=(e,r)=>{f({...b,[r]:URL.createObjectURL(e[0])})},$=(e,r)=>{let t={};return null===e||void 0===e||e.map((e=>{const n={[r]:null===e||void 0===e?void 0:e.name};t=(0,x.n)(n,j.un)})),Object.keys(t).length?(Z(t),!1):(Object.keys(C).length&&Z({}),!0)};return(0,w.jsxs)("div",{className:"new-print",children:[(0,w.jsx)(o.Z,{text:"Edit ".concat(k.name," print"),align:"center",color:"#aa8a75"}),(0,w.jsxs)("div",{className:"new-print-inputs",children:[(0,w.jsx)(g.Z,{placeholder:"Name",value:null===b||void 0===b?void 0:b.name,label:"Name*",name:"name",error:(null===N||void 0===N||null===(r=N.name)||void 0===r?void 0:r.message)||"",callback:_}),(0,w.jsx)(g.Z,{type:"number",placeholder:"Price",value:null===b||void 0===b?void 0:b.price,label:"Price*",name:"price",error:(null===N||void 0===N||null===(t=N.price)||void 0===t?void 0:t.message)||"",callback:_}),(0,w.jsx)(g.Z,{placeholder:"Tags",value:null===b||void 0===b?void 0:b.tags,label:"Tags",name:"tags",callback:_})]}),(0,w.jsx)("div",{className:"new-print-variants",children:(0,w.jsx)(y.Z,{options:U,onChange:e=>(e=>{const r=e.id;f({...b,printVariant:r})})(e),label:"Print type",defaultValue:(0,m.N2)(U,null===b||void 0===b?void 0:b.printVariant)})}),(0,w.jsxs)("div",{className:"new-print-zone",children:[(0,w.jsx)(o.Z,{text:"High res image",size:"18px",color:m.ue}),(0,w.jsx)(h.Z,{width:"480px",height:"160px",name:"highresurl",validationCallback:e=>$(e,"highresurl"),error:(null===C||void 0===C||null===(n=C.highresurl)||void 0===n?void 0:n.message)||"",onChange:e=>P(e,"highresurl"),defaultFiles:[{...b,preview:null!==(l=b.highresurl)&&void 0!==l&&l.includes("blob")?b.highresurl:"".concat(I.ED).concat(b.highresurl)}]})]}),(0,w.jsxs)("div",{className:"new-print-zone",children:[(0,w.jsx)(o.Z,{text:"Preview image",size:"18px",color:m.ue}),(0,w.jsx)(h.Z,{width:"480px",height:"160px",name:"previewurl",onChange:e=>P(e,"previewurl"),validationCallback:e=>$(e,"previewurl"),error:(null===C||void 0===C||null===(c=C.previewurl)||void 0===c?void 0:c.message)||"",defaultFiles:[{...b,preview:null!==(u=b.previewurl)&&void 0!==u&&u.includes("blob")?b.previewurl:"".concat(I.Z7).concat(b.previewurl)}]})]}),(0,w.jsxs)("div",{className:"new-print-actions",children:[(0,w.jsx)(i.o,{onClick:()=>v(),version:"gray",children:"Discard"}),(0,w.jsx)(i.o,{onClick:()=>p(),children:"Save"})]})]})},C=e=>{let{prints:r}=e;const[t,n]=(0,a.useState)(!1),[l,d]=(0,a.useState)({}),[v,m]=(0,a.useState)({}),[h,g]=(0,a.useState)({}),b=(0,s.I0)(),f=()=>{n(!1),d({}),m({}),g({})};return(0,w.jsxs)("div",{className:"print-list",children:[null===r||void 0===r?void 0:r.map((e=>(0,w.jsxs)("div",{className:"prints-list-print",children:[(0,w.jsx)(o.Z,{classN:"print-list-text _ellipsis",text:e.name,size:"16px"}),(0,w.jsx)("div",{className:"print-list-image",children:(0,w.jsx)("img",{src:"".concat(I.Z7).concat(e.previewurl),className:"print-list-img",alt:e.name})}),(0,w.jsx)("span",{}),(0,w.jsx)(i.o,{classN:"print-list-button",onClick:()=>(e=>{e&&(d(e),m(e),n(!0))})(e),children:"Edit"})]},e._id))),t&&(0,w.jsx)(c.Z,{callback:f,children:(0,w.jsx)(_,{callback:async()=>{var e,r;const t=(0,x.n)(l,j.uP);if(t)return g(t);async function n(e){const r=await fetch(e),t=await r.blob();return new File([t],"image.jpg",{type:t.type})}Object.keys(h).length&&g({});const a=JSON.parse(JSON.stringify(l));if(null!==l&&void 0!==l&&null!==(e=l.highresurl)&&void 0!==e&&e.includes("blob")){const e=await n(l.highresurl);a.highresurl=e}if(null!==l&&void 0!==l&&null!==(r=l.previewurl)&&void 0!==r&&r.includes("blob")){const e=await n(l.previewurl);a.previewurl=e}const s=new FormData;Object.keys(a).forEach((e=>{s.append(e,a[e])})),await(0,u.dt)(s),await p(b),f()},closePopup:f,print:l,errors:h,setPrint:d,printInfo:v})})]})},Z=()=>{const[e,r]=(0,a.useState)(!1),t=(0,s.v9)(d.s_),u=(0,s.I0)(),m=()=>{r(!1),u((0,d.uk)())};return(0,a.useEffect)((()=>{p(u),v(u)}),[]),(0,w.jsxs)("div",{children:[(0,w.jsx)(l.Z,{text:"Customize Prints"}),(0,w.jsx)(i.o,{classN:"add-button",onClick:()=>r(!0),type:"button",children:"New Print"}),(0,w.jsxs)(n.Z,{children:[(0,w.jsxs)("div",{className:"prints-pallette-list",children:[(0,w.jsx)(o.Z,{text:"Print List",size:"22px"}),null!==t&&void 0!==t&&t.length?(0,w.jsx)(C,{prints:t}):null]}),e&&(0,w.jsx)(c.Z,{callback:m,children:(0,w.jsx)(k,{closePopup:m})})]})]})}},5820:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(184);const l=e=>{let{children:r}=e;return(0,n.jsx)("div",{className:"main-body",children:r})}},370:(e,r,t)=>{t.d(r,{Z:()=>a});var n=t(971),l=t(184);const a=e=>{let{text:r}=e;return(0,l.jsx)("div",{className:"main-head",children:(0,l.jsx)(n.Z,{text:r,color:"#aa8a75"})})}},98:(e,r,t)=>{t.d(r,{Z:()=>s});var n=t(2791),l=t(4164);function a(e){const r=document.createElement("div");return r.setAttribute("id",e),document.body.appendChild(r),r}const s=function(e){let{children:r,wrapperId:t="react-portal-wrapper"}=e;const[s,i]=(0,n.useState)(null);(0,n.useLayoutEffect)((()=>{let e=document.getElementById(t),r=!1;return e||(r=!0,e=a(t)),i(e),()=>{r&&e.parentNode&&e.parentNode.removeChild(e)}}),[t]);let o=document.getElementById(t);return o||(o=a(t)),null===s?null:(0,l.createPortal)(r,s)}},7093:(e,r,t)=>{t.d(r,{Df:()=>i,N2:()=>c,X6:()=>o,ue:()=>l,wM:()=>s,yr:()=>a});var n=t(7098);const l="#aa8a75",a=[{id:"top",text:"Top",value:"Top"},{id:"bottom",text:"Bottom",value:"Bottom"},{id:"sleeve",text:"Sleeve",value:"Sleeve"}],s=[{id:"front",text:"Front",value:"Front"},{id:"back",text:"Back",value:"Back"}],i=e=>{switch(e.toLowerCase()){case"top":return n.vj;case"bottom":return n.LB;case"sleeve":return n.Ex}},o=e=>null!==e&&void 0!==e&&e.length?e.reduce(((e,r)=>(e.push({id:null===r||void 0===r?void 0:r._id,text:null===r||void 0===r?void 0:r.name,value:null===r||void 0===r?void 0:r.name}),e)),[]):[],c=(e,r)=>{const t=e.find((e=>e.id===r));return(null===t||void 0===t?void 0:t.value)||""}},3083:(e,r,t)=>{t.d(r,{R:()=>n});const n=()=>{}},1726:(e,r,t)=>{t.d(r,{o:()=>i});var n=t(3083),l=t(184);const a=e=>{let{classN:r}=e;return(0,l.jsx)("div",{className:"LoaderCircleUI ".concat(r)})},s={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},i=e=>{let{children:r,type:t="button",version:i="default",classN:o="",disabled:c=!1,isLoading:d=!1,onClick:u=n.R,...p}=e;return(0,l.jsx)("button",{...p,className:"ButtonUI ".concat(o," ").concat(s[i]," ").concat(c?"_disabled":""),type:t,onClick:e=>!c&&!d&&u(e),children:d?(0,l.jsx)(a,{}):r})}},9467:(e,r,t)=>{t.d(r,{Z:()=>d});var n=t(1632),l=t(9806),a=t(2791),s=t(7131),i=t(971),o=t(98),c=t(184);const d=e=>{let{text:r,options:t,onChange:d,classN:u="",label:p="",error:v,defaultValue:m,disabled:h=!1}=e;const[g,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(r),f=(0,a.useRef)(null),w=(0,a.useRef)(null);(0,s.Z)(f,(()=>x(!1)),g);const N=()=>{if(null!==f&&void 0!==f&&f.current&&null!==w&&void 0!==w&&w.current){const e=f.current.getBoundingClientRect().top+60,r=f.current.getBoundingClientRect().left,t=f.current.offsetWidth-3;w.current.style.top="".concat(e,"px"),w.current.style.left="".concat(r,"px"),w.current.style.width="".concat(t,"px")}};return(0,a.useEffect)((()=>{N()}),[w,f]),(0,c.jsxs)(c.Fragment,{children:[p&&(0,c.jsx)(i.Z,{size:"18px",color:"#aa8a75",text:p}),v&&(0,c.jsx)("span",{className:"error-message",children:v}),(0,c.jsx)("div",{className:"DropdownUI ".concat(u," ").concat(h?"_disabled":""),ref:f,children:(0,c.jsxs)("div",{onClick:e=>h?e.preventDefault():(x(!g),void N()),className:"DropdownUI__button".concat(g?" _active":"").concat(v?" _error":""),children:[m||j,g?(0,c.jsx)(l.G,{className:"DropdownUI__icon",icon:n.l1h}):(0,c.jsx)(l.G,{className:"DropdownUI__icon",icon:n.eW2})]})}),!h&&(0,c.jsx)(o.Z,{children:(0,c.jsx)("div",{className:"DropdownUI__content".concat(g?" _active":""),ref:w,children:Boolean(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.map(((e,r)=>{let{id:n,text:l,value:a}=e;return(0,c.jsx)("div",{onClick:e=>function(e,r){const n=e.target.textContent;n&&b(n),d(t[r]),x(!g)}(e,r),className:"DropdownUI__option",children:l||a},n)})))})})]})}},5168:(e,r,t)=>{t.d(r,{Z:()=>c});var n=t(2791),l=t(9806),a=t(1632),s=t(971),i=t(3083),o=t(184);const c=e=>{let{multiple:r=!1,width:t="400px",height:c="400px",onChange:d=i.R,defaultFiles:u,name:p,validationCallback:v=null,error:m="",classN:h}=e;const[g,x]=(0,n.useState)([]),j=(0,n.useRef)(null),b=(0,n.useRef)(null);(0,n.useEffect)((()=>{null!==u&&void 0!==u&&u.length&&x(u)}),[u]);const f=m?"red":"silver";return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsx)("span",{className:"error-message",children:m}),(0,o.jsxs)("div",{className:"DropzoneUI ".concat(h),style:{width:t,height:c,backgroundImage:"linear-gradient(90deg, ".concat(f," 50%, transparent 50%), linear-gradient(90deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%)")},onDrop:e=>{var t;e.preventDefault();const n=Array.from(e.dataTransfer.files);if(n.forEach((e=>{e.preview=URL.createObjectURL(e)})),r)return x([...g,...n]),d([...g,...n]);null!==n&&void 0!==n&&n.length&&(x(n),d(n)),null===b||void 0===b||null===(t=b.current)||void 0===t||t.classList.remove("_drag")},onDragOver:e=>{var r;e.preventDefault(),null===b||void 0===b||null===(r=b.current)||void 0===r||r.classList.add("_drag")},onDragLeave:e=>{var r;e.preventDefault(),null===b||void 0===b||null===(r=b.current)||void 0===r||r.classList.remove("_drag")},ref:b,children:[(0,o.jsx)("div",{className:"DropzoneUI__body",onClick:()=>{j.current&&j.current.click()},children:(0,o.jsx)(s.Z,{text:"Drag & drop some file".concat(r?"s":""," here, or click to select file").concat(r?"s":""),size:"14px",align:"center"})}),(0,o.jsx)("input",{type:"file",ref:j,style:{display:"none"},onChange:async e=>{const t=Array.from(e.target.files);if(!v||await v(t)){if(t.forEach((e=>{e.preview=URL.createObjectURL(e)})),r)return x([...g,...t]),d([...g,...t]);null!==t&&void 0!==t&&t.length&&(x(t),d(t))}},multiple:r,name:p}),(0,o.jsx)("div",{className:"DropzoneUI__files",style:{maxHeight:+c.replace("px","")-30+"px"},children:g.map(((e,r)=>(0,o.jsxs)("div",{className:"DropzoneUI__file",children:[(0,o.jsx)("img",{src:e.preview,alt:"Preview ".concat(r),className:"DropzoneUI__preview"}),(0,o.jsx)("button",{className:"DropzoneUI__remove",onClick:()=>(e=>{const r=[...g];r.splice(e,1),x(r)})(r),type:"button",children:(0,o.jsx)(l.G,{icon:a.EOp})})]},r)))})]})]})}},971:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(184);const l=e=>{let{text:r,classN:t="",color:l="",size:a="",align:s="left"}=e;return(0,n.jsx)("h1",{className:"headingUI ".concat(t),style:{color:l||"#000",fontSize:a||"30px",textAlign:s},children:r})}},4437:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(184);const l=e=>{let{value:r,placeholder:t="",type:l="text",callback:a,label:s="",name:i,error:o}=e;return(0,n.jsxs)("div",{className:"InputUI",children:[s&&(0,n.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(i),children:s}),o&&(0,n.jsx)("span",{className:"error-message",children:o}),(0,n.jsx)("input",{className:"InputUI__input".concat(o?" _error":""),id:"InputUI-".concat(i),name:i,type:l,value:r,onChange:a,...t&&{placeholder:t}})]})}},7959:(e,r,t)=>{t.d(r,{Z:()=>i});var n=t(98),l=t(9806),a=t(1632),s=t(184);const i=e=>{let{callback:r,children:t}=e;return(0,s.jsx)(n.Z,{children:(0,s.jsxs)("div",{className:"PopupUI",children:[(0,s.jsxs)("div",{className:"PopupUI__container",children:[(0,s.jsx)("div",{className:"PopupUI__body",children:t}),(0,s.jsx)("div",{className:"PopupUI__icon",onClick:()=>r(),children:(0,s.jsx)(l.G,{icon:a.g82,fontSize:"18px",color:"#fff"})})]}),(0,s.jsx)("div",{className:"PopupUI__BG",onClick:()=>r()})]})})}},7131:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(2791);const l=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,n.useEffect)((()=>{const t=t=>{e.current&&!e.current.contains(t.target)&&r()};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}),[t]),{}}},8779:(e,r,t)=>{t.d(r,{n:()=>n});const n=(e,r)=>{const t=Object.keys(e).reduce(((t,n)=>{const l=r[n]||[],a=e[n];return l.forEach((e=>{const r=e.rule,l=e.error;void 0===r.required||a||(t[n]=l),void 0===r.test||r.test.test(a)||(t[n]=l)})),t}),{});return!!Object.keys(t).length&&t}},8942:(e,r,t)=>{t.d(r,{E9:()=>i,Vu:()=>o,ib:()=>c,mX:()=>s,o$:()=>n,uP:()=>l,un:()=>a});const n={name:[{rule:{required:!0},error:{message:"Name is required"}}],hexcode:[{rule:{required:!0},error:{message:"HexCode is required"}},{rule:{test:/^#(?:[0-9a-fA-F]{3}){1,2}$/},error:{message:"Incorrect format for HexCode"}}]},l={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}]},a={highresurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Highres Url"}}],previewurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Preview Url"}}]},s={name:[{rule:{required:!0},error:{message:"Name is required"}}]},i={fronturl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}],backurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Back Url"}}]},o={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}],type:[{rule:{required:!0},error:{message:"Type is required"}}],orientation:[{rule:{required:!0},error:{message:"Orientation is required"}}]},c={silhouetteurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Silhouette Url"}}]}}}]);
//# sourceMappingURL=402.85743244.chunk.js.map