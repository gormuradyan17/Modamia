"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[651],{2262:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var s,r=n(5820),a=n(370),l=n(2791),i=n(9434),o=n(5227),c=n(558),d=n(6100),u=n(1726),p=n(8587),v=n(4437),h=n(7098),C=n(1717),m=n(7093),f=n(1227),g=n(4459),b=n(5851),x=n(7689),j=n(8340);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w.apply(this,arguments)}function y(e,t){let{title:n,titleId:r,...a}=e;return l.createElement("svg",w({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?l.createElement("title",{id:r},n):null,s||(s=l.createElement("path",{d:"M11 0.6875C5.30454 0.6875 0.6875 5.30454 0.6875 11C0.6875 16.6955 5.30454 21.3125 11 21.3125C16.6955 21.3125 21.3125 16.6955 21.3125 11C21.3125 5.30454 16.6955 0.6875 11 0.6875ZM11 19.9375C6.07187 19.9375 2.0625 15.9281 2.0625 11C2.0625 6.07187 6.07187 2.0625 11 2.0625C15.9281 2.0625 19.9375 6.07187 19.9375 11C19.9375 15.9281 15.9281 19.9375 11 19.9375ZM11 7.90625C11.5695 7.90625 12.0312 7.44459 12.0312 6.875C12.0312 6.30549 11.5695 5.84375 11 5.84375C10.4305 5.84375 9.96875 6.30549 9.96875 6.875C9.96875 7.44459 10.4305 7.90625 11 7.90625ZM13.0625 15.125H11.6875V10.3125C11.6875 9.93248 11.38 9.625 11 9.625H9.625C9.24498 9.625 8.9375 9.93248 8.9375 10.3125C8.9375 10.6925 9.24498 11 9.625 11H10.3125V15.125H8.9375C8.55783 15.125 8.25 15.4327 8.25 15.8125C8.25 16.1922 8.55783 16.5 8.9375 16.5H13.0625C13.4422 16.5 13.75 16.1922 13.75 15.8125C13.75 15.4327 13.4422 15.125 13.0625 15.125Z",fill:"#fff"})))}const k=l.forwardRef(y);n.p;var Z;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S.apply(this,arguments)}function H(e,t){let{title:n,titleId:s,...r}=e;return l.createElement("svg",S({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),n?l.createElement("title",{id:s},n):null,Z||(Z=l.createElement("path",{d:"M11 0.6875C5.30454 0.6875 0.6875 5.30454 0.6875 11C0.6875 16.6955 5.30454 21.3125 11 21.3125C16.6955 21.3125 21.3125 16.6955 21.3125 11C21.3125 5.30454 16.6955 0.6875 11 0.6875ZM11 19.9375C6.07187 19.9375 2.0625 15.9281 2.0625 11C2.0625 6.07187 6.07187 2.0625 11 2.0625C15.9281 2.0625 19.9375 6.07187 19.9375 11C19.9375 15.9281 15.9281 19.9375 11 19.9375ZM11 7.90625C11.5695 7.90625 12.0312 7.44459 12.0312 6.875C12.0312 6.30549 11.5695 5.84375 11 5.84375C10.4305 5.84375 9.96875 6.30549 9.96875 6.875C9.96875 7.44459 10.4305 7.90625 11 7.90625ZM13.0625 15.125H11.6875V10.3125C11.6875 9.93248 11.38 9.625 11 9.625H9.625C9.24498 9.625 8.9375 9.93248 8.9375 10.3125C8.9375 10.6925 9.24498 11 9.625 11H10.3125V15.125H8.9375C8.55783 15.125 8.25 15.4327 8.25 15.8125C8.25 16.1922 8.55783 16.5 8.9375 16.5H13.0625C13.4422 16.5 13.75 16.1922 13.75 15.8125C13.75 15.4327 13.4422 15.125 13.0625 15.125Z",fill:"#57101a"})))}const M=l.forwardRef(H);n.p;var O;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E.apply(this,arguments)}function N(e,t){let{title:n,titleId:s,...r}=e;return l.createElement("svg",E({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),n?l.createElement("title",{id:s},n):null,O||(O=l.createElement("path",{d:"M11 0.6875C5.30454 0.6875 0.6875 5.30454 0.6875 11C0.6875 16.6955 5.30454 21.3125 11 21.3125C16.6955 21.3125 21.3125 16.6955 21.3125 11C21.3125 5.30454 16.6955 0.6875 11 0.6875ZM11 19.9375C6.07187 19.9375 2.0625 15.9281 2.0625 11C2.0625 6.07187 6.07187 2.0625 11 2.0625C15.9281 2.0625 19.9375 6.07187 19.9375 11C19.9375 15.9281 15.9281 19.9375 11 19.9375ZM11 7.90625C11.5695 7.90625 12.0312 7.44459 12.0312 6.875C12.0312 6.30549 11.5695 5.84375 11 5.84375C10.4305 5.84375 9.96875 6.30549 9.96875 6.875C9.96875 7.44459 10.4305 7.90625 11 7.90625ZM13.0625 15.125H11.6875V10.3125C11.6875 9.93248 11.38 9.625 11 9.625H9.625C9.24498 9.625 8.9375 9.93248 8.9375 10.3125C8.9375 10.6925 9.24498 11 9.625 11H10.3125V15.125H8.9375C8.55783 15.125 8.25 15.4327 8.25 15.8125C8.25 16.1922 8.55783 16.5 8.9375 16.5H13.0625C13.4422 16.5 13.75 16.1922 13.75 15.8125C13.75 15.4327 13.4422 15.125 13.0625 15.125Z",fill:"#fff"})))}const B=l.forwardRef(N);n.p;var I;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V.apply(this,arguments)}function D(e,t){let{title:n,titleId:s,...r}=e;return l.createElement("svg",V({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),n?l.createElement("title",{id:s},n):null,I||(I=l.createElement("path",{d:"M11 0.6875C5.30454 0.6875 0.6875 5.30454 0.6875 11C0.6875 16.6955 5.30454 21.3125 11 21.3125C16.6955 21.3125 21.3125 16.6955 21.3125 11C21.3125 5.30454 16.6955 0.6875 11 0.6875ZM11 19.9375C6.07187 19.9375 2.0625 15.9281 2.0625 11C2.0625 6.07187 6.07187 2.0625 11 2.0625C15.9281 2.0625 19.9375 6.07187 19.9375 11C19.9375 15.9281 15.9281 19.9375 11 19.9375ZM11 7.90625C11.5695 7.90625 12.0312 7.44459 12.0312 6.875C12.0312 6.30549 11.5695 5.84375 11 5.84375C10.4305 5.84375 9.96875 6.30549 9.96875 6.875C9.96875 7.44459 10.4305 7.90625 11 7.90625ZM13.0625 15.125H11.6875V10.3125C11.6875 9.93248 11.38 9.625 11 9.625H9.625C9.24498 9.625 8.9375 9.93248 8.9375 10.3125C8.9375 10.6925 9.24498 11 9.625 11H10.3125V15.125H8.9375C8.55783 15.125 8.25 15.4327 8.25 15.8125C8.25 16.1922 8.55783 16.5 8.9375 16.5H13.0625C13.4422 16.5 13.75 16.1922 13.75 15.8125C13.75 15.4327 13.4422 15.125 13.0625 15.125Z",fill:"#fff"})))}const _=l.forwardRef(D);n.p;var F=n(184);const P=e=>{let{children:t}=e;return(0,F.jsx)("div",{className:"SnackbarContentWrapperStyles",children:(0,F.jsx)("div",{className:"SnackbarContentStyles",children:t})})},R=e=>{let{children:t,variant:n}=e;return(0,F.jsx)("div",{className:"SnackbarFrameStyles",children:(0,F.jsx)("div",{className:"SnackbarIconFrameStyles",children:(0,F.jsx)("div",{className:"SnackbarIconStyles",children:t})})})};var q=n(971);const T=e=>{let{icon:t,variant:n,message:s}=e;return(0,F.jsx)("div",{className:"SnackbarStyles ".concat(n),children:(0,F.jsxs)(P,{children:[(0,F.jsx)(R,{variant:n,children:t}),(0,F.jsx)(q.Z,{text:s,size:"16px",color:"#D9F0FA"})]})})};let A=function(e){return e.error="error",e.success="success",e.info="info",e.warning="warning",e}({});const z=e=>{let{variant:t=A.error,message:n="You have successfully read this message."}=e;const s={error:(0,F.jsx)(M,{}),success:(0,F.jsx)(k,{}),info:(0,F.jsx)(B,{}),warning:(0,F.jsx)(_,{})};return(0,F.jsx)("div",{className:"SnackbarContainer",children:(0,F.jsx)(T,{icon:s[t],message:n,variant:t})})},G=()=>{const e=(0,l.useRef)(),t=(0,l.useRef)(),n=(0,l.useMemo)((()=>{let e=document.getElementById("wrapperId");return e||(e=document.createElement("div"),e.setAttribute("id","wrapperId"),document.body.appendChild(e)),e}),[]),s=()=>{n.innerHTML="",t.current&&clearTimeout(t.current),t.current=void 0};return{appendSnackbar:(r,a)=>{s();try{const{message:i,autoHideDuration:o=6e3}=a,{notifyBarNode:c}=(l=(0,j.uS)((0,F.jsx)(z,{handleClose:s,variant:r,message:i})),{notifyBarNode:(new DOMParser).parseFromString(l,"text/html").body.children[0]});n.appendChild(c),e.current=c,t.current=setTimeout(s,o<2e3?2e3:o)}catch(i){console.log(i)}var l}}};var $=n(3944),J=n(5065),L=n(7145),Q=n(9158),K=n(8151),U=n(5168),W=n(8779),Y=n(8942);const X=()=>{var e;const t=(0,i.I0)(),n=(0,i.v9)(d.vf),s=(0,x.UO)(),{id:j=""}=s,[w,y]=(0,l.useState)({}),[k,Z]=(0,l.useState)(null);(0,l.useEffect)((()=>((0,b.x6)(t),(0,o.T)(t),(0,c.R)(t),(0,J.gx)(t),(0,K.Ax)(t),()=>{t((0,d.O_)())})),[]);const{appendSnackbar:S}=G();(0,l.useEffect)((()=>{j&&(0,b.Cg)(t,j)}),[j]),(0,l.useMemo)((()=>{null!==n&&void 0!==n&&n.mannequin_id&&y(n)}),[n]);const H=(0,i.v9)(C.Q3),[M,O]=(0,l.useState)({}),E=(0,l.useMemo)((()=>H.filter((e=>"Top"===e.type))),[H]),N=(0,l.useMemo)((()=>H.filter((e=>"Bottom"===e.type))),[H]),B=(0,l.useMemo)((()=>H.filter((e=>"Sleeve"===(null===e||void 0===e?void 0:e.type)))),[H]),I=(0,i.v9)($.Pn),V=(0,m.zr)(I)||[{}],D=(0,i.v9)(Q.MK),_=(0,m.zr)(D)||[{}],P=(e,t)=>{if(e){const n=structuredClone(w)[t],s=null===n||void 0===n?void 0:n.findIndex((t=>t.id===e));-1!==s?n.splice(s,1):n.push({id:e,order:1}),y({...w,[t]:n})}},R=(e,t,n)=>{if(t){const{value:s}=e,r=structuredClone(w)[n],a=null===r||void 0===r?void 0:r.findIndex((e=>e.id===t));-1!==a&&(r[a].order=s,y({...w,[n]:r}))}},T=!0,z=(e,t,n)=>{const{target:{checked:s}}=e,{id:r}=t;if(r){const e=structuredClone(w),t=null===e||void 0===e?void 0:e.palettes;if(s)null===t||void 0===t||t[n].push(r);else{const e=null===t||void 0===t?void 0:t[n].findIndex((e=>e===r));-1!==e&&(null===t||void 0===t||t[n].splice(e,1))}y({...w,palettes:t})}};return(0,F.jsxs)("div",{children:[(0,F.jsx)(a.Z,{text:"Edit Garment"}),(0,F.jsx)(r.Z,{children:(0,F.jsxs)("div",{className:"garments-list-content",children:[(0,F.jsx)(u.o,{classN:"add-garment-button",onClick:async()=>{if(T){const e=new FormData,n=["tops","bottoms","sleeves","palettes"];Object.keys(w).forEach((t=>{n.includes(t)?e.append(t,JSON.stringify(w[t])):e.append(t,w[t])})),e.append("id",j),e.append("background",k),await(0,p.fq)(e),await S(A.success,{autoHideDuration:3e3,message:"Garment successfully updated!"}),await t((0,d.DA)(w))}},type:"button",disabled:!T,children:"Save Garment"}),(0,F.jsxs)("div",{className:"garments-list-content-top",children:[(0,F.jsx)(v.Z,{classN:"add-garment-input",callback:e=>{const{target:{name:t,value:n}}=e;y({...w,[t]:n})},value:null===w||void 0===w?void 0:w.name,name:"name",label:"Name*"}),(0,F.jsxs)("div",{className:"garments-list-content-top-background",children:[(0,F.jsx)(q.Z,{text:"Background",color:m.ue,size:"18px"}),(0,F.jsx)(U.Z,{width:"300px",height:"160px",name:"highresurl",validationCallback:e=>((e,t)=>{let n={};return null===e||void 0===e||e.map((e=>{const s={[t]:null===e||void 0===e?void 0:e.name};n=(0,W.n)(s,Y.Jn)})),Object.keys(n).length?(O(n),!1):(Object.keys(M).length&&O({}),!0)})(e,"background"),error:(null===M||void 0===M||null===(e=M.highresurl)||void 0===e?void 0:e.message)||"",onChange:e=>(e=>{Z(e[0])})(e)})]})]}),(0,F.jsxs)("div",{className:"garments-list-top",children:[(0,F.jsx)(g.Z,{details:w,callback:(e,t)=>((e,t)=>{const{target:{checked:n}}=e;t&&y({...w,mannequin_id:n?t:""})})(e,t)}),(0,F.jsxs)("div",{className:"garments-list-dropdowns",children:[(0,F.jsx)(L.Z,{options:V,onChange:(e,t)=>z(e,t,"colors"),label:"Color palettes",details:w,type:"colors"}),(0,F.jsx)(L.Z,{options:_,onChange:(e,t)=>z(e,t,"prints"),label:"Print palettes",details:w,type:"prints"})]})]}),(0,F.jsx)(f.Z,{header:"Top Silhouettes",content:E,srcBase:h.vj,callback:e=>P(e,"tops"),callbackDropdown:R,type:"tops",details:w}),(0,F.jsx)(f.Z,{header:"Bottom Silhouettes",content:N,srcBase:h.LB,callback:e=>P(e,"bottoms"),callbackDropdown:R,type:"bottoms",details:w}),(0,F.jsx)(f.Z,{header:"Sleeve Silhouettes",content:B,srcBase:h.Ex,callback:e=>P(e,"sleeves"),callbackDropdown:R,type:"sleeves",details:w})]})})]})}},5851:(e,t,n)=>{n.d(t,{Cg:()=>l,GF:()=>i,l3:()=>o,x6:()=>a});var s=n(6100),r=n(8587);const a=e=>{(0,r.dm)().then((t=>{e((0,s.$V)(t))})).catch((e=>console.log(e)))},l=(e,t)=>{(0,r.Ix)({garment_id:t}).then((t=>{const{silhouettes:{bottoms:n=[],tops:r=[],sleeves:a=[]}={},palettes:l={colors:[],prints:[]},mannequin:{_id:i=""}={},garment:{name:o=""}={}}=t||{},c={name:o,mannequin_id:i,tops:[],bottoms:[],sleeves:[],palettes:{colors:[],prints:[]}};c.tops=r.reduce(((e,t)=>(e.push({id:null===t||void 0===t?void 0:t._id,order:(null===t||void 0===t?void 0:t.order)||1}),e)),[]),c.bottoms=n.reduce(((e,t)=>(e.push({id:null===t||void 0===t?void 0:t._id,order:(null===t||void 0===t?void 0:t.order)||1}),e)),[]),c.sleeves=a.reduce(((e,t)=>(e.push({id:null===t||void 0===t?void 0:t._id,order:(null===t||void 0===t?void 0:t.order)||1}),e)),[]),c.palettes=l,e((0,s.DA)(c))})).catch((e=>console.log(e)))},i=e=>{(0,r.qH)().then((t=>{e((0,s.$V)(t))})).catch((e=>console.log(e)))},o=(e,t)=>{(0,r.Q$)({criteria:t}).then((t=>{e((0,s.$V)(t))})).catch((e=>console.log(e)))}}}]);
//# sourceMappingURL=651.0d0ca3e3.chunk.js.map