"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[555],{4555:(e,n,r)=>{r.r(n),r.d(n,{default:()=>y});var a=r(370),t=r(1726),l=r(2791),s=r(5820),i=r(971),o=r(7959),c=r(7098),u=r(8587),d=r(9434),m=r(8779),p=r(8942),v=r(9153);const x=e=>{(0,u.Km)().then((n=>{e((0,v.go)(n))})).catch((e=>console.log(e)))};var g=r(4437),h=r(7093),j=r(5168),b=r(184);const f=e=>{var n,r,a,s,o;let{callback:u,closePopup:d,mannequin:v,setMannequin:x,errors:f,mannequinInfo:k}=e;const[N,q]=(0,l.useState)({}),w=(e,n)=>{x({...v,[n]:URL.createObjectURL(e[0])})},y=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,m.n)(a,p.E9)})),Object.keys(r).length?(q(r),!1):(Object.keys(N).length&&q({}),!0)};return(0,b.jsxs)("div",{className:"new-mannequin",children:[(0,b.jsx)(i.Z,{text:"Edit ".concat(k.name," mannequin"),align:"center",color:"#aa8a75"}),(0,b.jsx)("div",{className:"new-mannequin-inputs",children:(0,b.jsx)(g.Z,{placeholder:"Name",value:null===v||void 0===v?void 0:v.name,label:"Name*",name:"name",error:(null===f||void 0===f||null===(n=f.name)||void 0===n?void 0:n.message)||"",callback:e=>{const{target:{name:n,value:r}}=e;x({...v,[n]:r})}})}),(0,b.jsxs)("div",{className:"new-mannequin-zone",children:[(0,b.jsx)(i.Z,{text:"Front image",size:"18px",color:h.ue}),(0,b.jsx)(j.Z,{width:"480px",height:"260px",name:"fronturl",classN:"new-mannequin-dropzone",validationCallback:e=>y(e,"fronturl"),error:(null===N||void 0===N||null===(r=N.fronturl)||void 0===r?void 0:r.message)||"",onChange:e=>w(e,"fronturl"),defaultFiles:[{...v,preview:null!==(a=v.fronturl)&&void 0!==a&&a.includes("blob")?v.fronturl:"".concat(c.jV).concat(v.fronturl)}]})]}),(0,b.jsxs)("div",{className:"new-mannequin-zone",children:[(0,b.jsx)(i.Z,{text:"Back image",size:"18px",color:h.ue}),(0,b.jsx)(j.Z,{width:"480px",height:"260px",name:"backurl",classN:"new-mannequin-dropzone",onChange:e=>w(e,"backurl"),validationCallback:e=>y(e,"backurl"),error:(null===N||void 0===N||null===(s=N.backurl)||void 0===s?void 0:s.message)||"",defaultFiles:[{...v,preview:null!==(o=v.backurl)&&void 0!==o&&o.includes("blob")?v.backurl:"".concat(c.uW).concat(v.backurl)}]})]}),(0,b.jsxs)("div",{className:"new-mannequin-actions",children:[(0,b.jsx)(t.o,{onClick:()=>d(),version:"gray",children:"Discard"}),(0,b.jsx)(t.o,{onClick:()=>u(),children:"Save"})]})]})};var k=r(9806),N=r(1632);const q=e=>{let{mannequins:n}=e;const[r,a]=(0,l.useState)(!1),[t,s]=(0,l.useState)({}),[v,g]=(0,l.useState)({}),[h,j]=(0,l.useState)({}),[q,w]=(0,l.useState)("front"),y=(0,d.I0)(),I=()=>{a(!1),s({}),g({}),j({})},C=()=>{w("front"===q?"back":"front")};return(0,b.jsxs)("div",{className:"mannequin-list",children:[null===n||void 0===n?void 0:n.map((e=>(0,b.jsxs)("div",{className:"mannequins-list-mannequin",children:[(0,b.jsx)(i.Z,{classN:"mannequin-list-text _ellipsis",text:e.name,size:"16px"}),(0,b.jsxs)("div",{className:"mannequin-list-image",children:[(0,b.jsx)("img",{src:"front"===q?"".concat(c.jV).concat(e.fronturl):"".concat(c.uW).concat(e.backurl),className:"mannequin-list-img",alt:e.name}),(0,b.jsx)("button",{type:"button",className:"mannequin-list-rotate",onClick:C,children:(0,b.jsx)(k.G,{icon:N.QHR})}),(0,b.jsx)("button",{type:"button",className:"mannequin-list-edit",onClick:()=>{var n;(n=e)&&(s(n),g(n),a(!0))},children:(0,b.jsx)(k.G,{icon:N.TzT})})]})]},e._id))),r&&(0,b.jsx)(o.Z,{callback:I,children:(0,b.jsx)(f,{callback:async()=>{var e,n;const r=(0,m.n)(t,p.mX);if(r)return j(r);async function a(e){const n=await fetch(e),r=await n.blob();return new File([r],"image.jpg",{type:r.type})}Object.keys(h).length&&j({});const l=JSON.parse(JSON.stringify(t));if(null!==t&&void 0!==t&&null!==(e=t.fronturl)&&void 0!==e&&e.includes("blob")){const e=await a(t.fronturl);l.fronturl=e}if(null!==t&&void 0!==t&&null!==(n=t.backurl)&&void 0!==n&&n.includes("blob")){const e=await a(t.backurl);l.backurl=e}const s=new FormData;Object.keys(l).forEach((e=>{s.append(e,l[e])})),await(0,u.Be)(s),await x(y),I()},closePopup:I,mannequin:t,errors:h,setMannequin:s,mannequinInfo:v})})]})},w=e=>{var n,r,a;let{closePopup:s}=e;const o=(0,d.I0)(),[c,v]=(0,l.useState)({name:"",fronturl:"",backurl:""}),[f,k]=(0,l.useState)({}),[N,q]=(0,l.useState)({}),w=(e,n)=>{v({...c,[n]:e[0]})},y=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,m.n)(a,p.mX)})),Object.keys(r).length?(q(r),!1):(Object.keys(N).length&&q({}),!0)};return(0,b.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(0,m.n)(c,p.mX);if(n)return k(n);Object.keys(n).length&&k({});const r=new FormData;Object.keys(c).forEach((e=>{r.append(e,c[e])})),await(0,u.xs)(r),await x(o),s()},className:"new-mannequin",children:[(0,b.jsx)(i.Z,{text:"Add new mannequin",align:"center",color:h.ue}),(0,b.jsxs)("div",{className:"new-mannequin-inputs",children:[(0,b.jsx)(g.Z,{placeholder:"Name",value:null===c||void 0===c?void 0:c.name,label:"Name*",name:"name",error:(null===f||void 0===f||null===(n=f.name)||void 0===n?void 0:n.message)||"",callback:e=>{const{target:{name:n,value:r}}=e;v({...c,[n]:r})}}),(0,b.jsxs)("div",{className:"new-mannequin-zone",children:[(0,b.jsx)(i.Z,{text:"Front image",size:"18px",color:h.ue}),(0,b.jsx)(j.Z,{width:"480px",height:"160px",name:"fronturl",validationCallback:e=>y(e,"fronturl"),error:(null===N||void 0===N||null===(r=N.fronturl)||void 0===r?void 0:r.message)||"",onChange:e=>w(e,"fronturl")})]}),(0,b.jsxs)("div",{className:"new-mannequin-zone",children:[(0,b.jsx)(i.Z,{text:"Back image",size:"18px",color:h.ue}),(0,b.jsx)(j.Z,{width:"480px",height:"160px",name:"backurl",validationCallback:e=>y(e,"backurl"),error:(null===N||void 0===N||null===(a=N.backurl)||void 0===a?void 0:a.message)||"",onChange:e=>w(e,"backurl")})]})]}),(0,b.jsxs)("div",{className:"new-mannequin-actions",children:[(0,b.jsx)(t.o,{onClick:()=>s(),version:"gray",children:"Close"}),(0,b.jsx)(t.o,{type:"submit",children:"Add"})]})]})},y=()=>{const[e,n]=(0,l.useState)(!1),r=(0,d.v9)(v.wm),c=(0,d.I0)(),[u,m]=(0,l.useState)({});(0,l.useEffect)((()=>{x(c)}),[]);const p=()=>{n(!1),m({})};return(0,b.jsxs)("div",{children:[(0,b.jsx)(a.Z,{text:"Customize Mannequins"}),(0,b.jsx)(t.o,{classN:"add-button",onClick:()=>n(!0),type:"button",children:"New Mannequin"}),(0,b.jsxs)(s.Z,{children:[(0,b.jsxs)("div",{className:"colors-pallette-list",children:[(0,b.jsx)(i.Z,{text:"Mannequins List",size:"22px"}),null!==r&&void 0!==r&&r.length?(0,b.jsx)(q,{mannequins:r}):null]}),e&&(0,b.jsx)(o.Z,{callback:p,children:(0,b.jsx)(w,{closePopup:p})})]})]})}},5820:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{children:n}=e;return(0,a.jsx)("div",{className:"main-body",children:n})}},370:(e,n,r)=>{r.d(n,{Z:()=>p});var a=r(971),t=r(1726),l=r(9806),s=r(1632),i=r(1927),o=r(7093),c=r(9434),u=r(1727),d=r(7689),m=r(184);const p=e=>{let{text:n}=e;const r=(0,c.I0)(),p=(0,d.s0)();return(0,m.jsxs)("div",{className:"main-head",children:[(0,m.jsx)(a.Z,{text:n,color:"#aa8a75"}),(0,m.jsxs)(t.o,{classN:"main-head-logout",onClick:async()=>{try{await(0,i.Sr)()&&((0,o.Mz)("accessToken"),r((0,u.tR)(!1)),r((0,u.f4)({})),p("/login"))}catch(e){console.log(e)}},children:[(0,m.jsx)(l.G,{icon:s.jLD}),(0,m.jsx)("span",{children:"Sign out"})]})]})}},98:(e,n,r)=>{r.d(n,{Z:()=>s});var a=r(2791),t=r(4164);function l(e){const n=document.createElement("div");return n.setAttribute("id",e),document.body.appendChild(n),n}const s=function(e){let{children:n,wrapperId:r="react-portal-wrapper"}=e;const[s,i]=(0,a.useState)(null);(0,a.useLayoutEffect)((()=>{let e=document.getElementById(r),n=!1;return e||(n=!0,e=l(r)),i(e),()=>{n&&e.parentNode&&e.parentNode.removeChild(e)}}),[r]);let o=document.getElementById(r);return o||(o=l(r)),null===s?null:(0,t.createPortal)(n,s)}},3083:(e,n,r)=>{r.d(n,{R:()=>a});const a=()=>{}},1726:(e,n,r)=>{r.d(n,{o:()=>i});var a=r(3083),t=r(184);const l=e=>{let{classN:n}=e;return(0,t.jsx)("div",{className:"LoaderCircleUI ".concat(n)})},s={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},i=e=>{let{children:n,type:r="button",version:i="default",classN:o="",disabled:c=!1,isLoading:u=!1,onClick:d=a.R,...m}=e;return(0,t.jsx)("button",{...m,className:"ButtonUI ".concat(o," ").concat(s[i]," ").concat(c?"_disabled":""),type:r,onClick:e=>!c&&!u&&d(e),children:u?(0,t.jsx)(l,{}):n})}},5168:(e,n,r)=>{r.d(n,{Z:()=>c});var a=r(2791),t=r(9806),l=r(1632),s=r(971),i=r(3083),o=r(184);const c=e=>{let{multiple:n=!1,width:r="400px",height:c="400px",onChange:u=i.R,defaultFiles:d,name:m,validationCallback:p=null,error:v="",classN:x}=e;const[g,h]=(0,a.useState)([]),j=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.length&&h(d)}),[d]);const f=v?"red":"silver";return(0,o.jsxs)(o.Fragment,{children:[v&&(0,o.jsx)("span",{className:"error-message",children:v}),(0,o.jsxs)("div",{className:"DropzoneUI ".concat(x),style:{width:r,height:c,backgroundImage:"linear-gradient(90deg, ".concat(f," 50%, transparent 50%), linear-gradient(90deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%)")},onDrop:e=>{var r;e.preventDefault();const a=Array.from(e.dataTransfer.files);if(a.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return h([...g,...a]),u([...g,...a]);null!==a&&void 0!==a&&a.length&&(h(a),u(a)),null===b||void 0===b||null===(r=b.current)||void 0===r||r.classList.remove("_drag")},onDragOver:e=>{var n;e.preventDefault(),null===b||void 0===b||null===(n=b.current)||void 0===n||n.classList.add("_drag")},onDragLeave:e=>{var n;e.preventDefault(),null===b||void 0===b||null===(n=b.current)||void 0===n||n.classList.remove("_drag")},ref:b,children:[(0,o.jsx)("div",{className:"DropzoneUI__body",onClick:()=>{j.current&&j.current.click()},children:(0,o.jsx)(s.Z,{text:"Drag & drop some file".concat(n?"s":""," here, or click to select file").concat(n?"s":""),size:"14px",align:"center"})}),(0,o.jsx)("input",{type:"file",ref:j,style:{display:"none"},onChange:async e=>{const r=Array.from(e.target.files);if(!p||await p(r)){if(r.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return h([...g,...r]),u([...g,...r]);null!==r&&void 0!==r&&r.length&&(h(r),u(r))}},multiple:n,name:m}),(0,o.jsx)("div",{className:"DropzoneUI__files",style:{maxHeight:+c.replace("px","")-30+"px"},children:g.map(((e,n)=>(0,o.jsxs)("div",{className:"DropzoneUI__file",children:[(0,o.jsx)("img",{src:e.preview,alt:"Preview ".concat(n),className:"DropzoneUI__preview"}),(0,o.jsx)("button",{className:"DropzoneUI__remove",onClick:()=>(e=>{const n=[...g];n.splice(e,1),h(n)})(n),type:"button",children:(0,o.jsx)(t.G,{icon:l.EOp})})]},n)))})]})]})}},971:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{text:n,classN:r="",color:t="",size:l="",align:s="left"}=e;return(0,a.jsx)("h1",{className:"headingUI ".concat(r),style:{color:t||"#000",fontSize:l||"30px",textAlign:s},children:n})}},4437:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{value:n,placeholder:r="",type:t="text",callback:l,label:s="",name:i,error:o,autoComplete:c=""}=e;return(0,a.jsxs)("div",{className:"InputUI",children:[s&&(0,a.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(i),children:s}),o&&(0,a.jsx)("span",{className:"error-message",children:o}),(0,a.jsx)("input",{className:"InputUI__input".concat(o?" _error":""),id:"InputUI-".concat(i),name:i,type:t,defaultValue:n,onChange:l,...c&&{autoComplete:c},...r&&{placeholder:r}})]})}},7959:(e,n,r)=>{r.d(n,{Z:()=>i});var a=r(98),t=r(9806),l=r(1632),s=r(184);const i=e=>{let{callback:n,children:r}=e;return(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"PopupUI",children:[(0,s.jsxs)("div",{className:"PopupUI__container",children:[(0,s.jsx)("div",{className:"PopupUI__body",children:r}),(0,s.jsx)("div",{className:"PopupUI__icon",onClick:()=>n(),children:(0,s.jsx)(t.G,{icon:l.g82,fontSize:"18px",color:"#fff"})})]}),(0,s.jsx)("div",{className:"PopupUI__BG",onClick:()=>n()})]})})}},8779:(e,n,r)=>{r.d(n,{n:()=>a});const a=(e,n)=>{const r=Object.keys(e).reduce(((r,a)=>{const t=n[a]||[],l=e[a];return t.forEach((e=>{const n=e.rule,t=e.error;void 0===n.required||l||(r[a]=t),void 0===n.test||n.test.test(l)||(r[a]=t)})),r}),{});return!!Object.keys(r).length&&r}},8942:(e,n,r)=>{r.d(n,{E9:()=>i,Vu:()=>o,hq:()=>d,ib:()=>c,mX:()=>s,o$:()=>a,uP:()=>t,un:()=>l,vA:()=>u,xj:()=>m});const a={name:[{rule:{required:!0},error:{message:"Name is required"}}],hexcode:[{rule:{required:!0},error:{message:"HexCode is required"}},{rule:{test:/^#(?:[0-9a-fA-F]{3}){1,2}$/},error:{message:"Incorrect format for HexCode"}}]},t={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}]},l={highresurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Highres Url"}}],previewurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Preview Url"}}]},s={name:[{rule:{required:!0},error:{message:"Name is required"}}]},i={fronturl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}],backurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Back Url"}}]},o={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}],type:[{rule:{required:!0},error:{message:"Type is required"}}],orientation:[{rule:{required:!0},error:{message:"Orientation is required"}}]},c={silhouetteurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Silhouette Url"}}]},u={name:[{rule:{required:!0},error:{message:"Name is required"}}]},d={name:[{rule:{required:!0},error:{message:"Name is required"}}]},m={email:[{rule:{required:!0},error:{message:"Email is required"}}],password:[{rule:{required:!0},error:{message:"Password is required"}}]}}}]);
//# sourceMappingURL=555.9428346d.chunk.js.map