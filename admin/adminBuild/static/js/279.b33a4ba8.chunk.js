"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[279],{279:(e,n,r)=>{r.r(n),r.d(n,{default:()=>I});var a=r(370),l=r(1726),t=r(2791),s=r(5820),i=r(971),o=r(7959),c=r(8587),u=r(9434),d=r(8779),m=r(8942),h=r(4437),v=r(7093),p=r(5168),g=r(7098),x=r(184);const b=e=>{var n,r,a,s,o,c,u;let{callback:b,closePopup:j,mannequin:f,setMannequin:k,errors:q,mannequinInfo:N}=e;const w=e=>{const{target:{name:n,value:r}}=e;k({...f,[n]:r})},[y,C]=(0,t.useState)({}),I=(e,n)=>{k({...f,[n]:URL.createObjectURL(e[0])})},Z=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,d.n)(a,m.E9)})),Object.keys(r).length?(C(r),!1):(Object.keys(y).length&&C({}),!0)};return(0,x.jsxs)("div",{className:"new-mannequin",children:[(0,x.jsx)(i.Z,{text:"Edit ".concat(N.name," mannequin"),align:"center",color:"#aa8a75"}),(0,x.jsxs)("div",{className:"new-mannequin-inputs",children:[(0,x.jsx)(h.Z,{placeholder:"Name",value:null===f||void 0===f?void 0:f.name,label:"Name*",name:"name",error:(null===q||void 0===q||null===(n=q.name)||void 0===n?void 0:n.message)||"",callback:w}),(0,x.jsx)(h.Z,{placeholder:"Width",value:null===f||void 0===f?void 0:f.width,label:"Width*",name:"width",type:"number",error:(null===q||void 0===q||null===(r=q.width)||void 0===r?void 0:r.message)||"",callback:w}),(0,x.jsx)(h.Z,{placeholder:"Height",value:null===f||void 0===f?void 0:f.height,label:"Height*",name:"height",type:"number",error:(null===q||void 0===q||null===(a=q.height)||void 0===a?void 0:a.message)||"",callback:w})]}),(0,x.jsxs)("div",{className:"new-mannequin-zone",children:[(0,x.jsx)(i.Z,{text:"Front image",size:"18px",color:v.ue}),(0,x.jsx)(p.Z,{width:"480px",height:"260px",name:"fronturl",classN:"new-mannequin-dropzone",validationCallback:e=>Z(e,"fronturl"),error:(null===y||void 0===y||null===(s=y.fronturl)||void 0===s?void 0:s.message)||"",onChange:e=>I(e,"fronturl"),defaultFiles:[{...f,preview:null!==(o=f.fronturl)&&void 0!==o&&o.includes("blob")?f.fronturl:"".concat(g.jV).concat(f.fronturl)}]})]}),(0,x.jsxs)("div",{className:"new-mannequin-zone",children:[(0,x.jsx)(i.Z,{text:"Back image",size:"18px",color:v.ue}),(0,x.jsx)(p.Z,{width:"480px",height:"260px",name:"backurl",classN:"new-mannequin-dropzone",onChange:e=>I(e,"backurl"),validationCallback:e=>Z(e,"backurl"),error:(null===y||void 0===y||null===(c=y.backurl)||void 0===c?void 0:c.message)||"",defaultFiles:[{...f,preview:null!==(u=f.backurl)&&void 0!==u&&u.includes("blob")?f.backurl:"".concat(g.uW).concat(f.backurl)}]})]}),(0,x.jsxs)("div",{className:"new-mannequin-actions",children:[(0,x.jsx)(l.o,{onClick:()=>j(),version:"gray",children:"Discard"}),(0,x.jsx)(l.o,{onClick:()=>b(),children:"Save"})]})]})};var j=r(8180),f=r(9153),k=r(1632),q=r(9806);const N=e=>{let{mannequin:n,editMannequin:r,prepareToRemoveMannequin:a}=e;const[l,s]=(0,t.useState)("front");return(0,x.jsxs)("div",{className:"mannequins-list-mannequin",children:[(0,x.jsx)(i.Z,{classN:"mannequin-list-text _ellipsis",text:n.name,size:"16px"}),(0,x.jsxs)("div",{className:"mannequin-list-image",children:[(0,x.jsx)("img",{src:"front"===l?"".concat(g.jV).concat(n.fronturl):"".concat(g.uW).concat(n.backurl),className:"mannequin-list-img",alt:n.name}),(0,x.jsx)("button",{type:"button",className:"mannequin-list-rotate",onClick:()=>{s("front"===l?"back":"front")},children:(0,x.jsx)(q.G,{icon:k.QHR})}),(0,x.jsx)("button",{type:"button",className:"mannequin-list-edit",onClick:()=>r(n),children:(0,x.jsx)(q.G,{icon:k.TzT})}),(0,x.jsx)("button",{type:"button",className:"mannequin-list-remove",onClick:()=>a(n),children:(0,x.jsx)(q.G,{icon:k.$aW})})]})]},n._id)},w=e=>{let{mannequins:n}=e;const[r,a]=(0,t.useState)(!1),[l,s]=(0,t.useState)(!1),[i,h]=(0,t.useState)({}),[v,p]=(0,t.useState)({}),[g,k]=(0,t.useState)({}),[q,w]=(0,t.useState)({}),y=(0,u.I0)(),C=e=>{e&&(h(e),k(e),a(!0))},I=()=>{a(!1),h({}),k({}),w({})},Z=()=>{s(!1),p({})},_=e=>{p(e),s(!0)};return(0,x.jsxs)("div",{className:"mannequin-list",children:[null===n||void 0===n?void 0:n.map((e=>(0,x.jsx)(N,{mannequin:e,editMannequin:C,prepareToRemoveMannequin:_},null===e||void 0===e?void 0:e._id))),r&&(0,x.jsx)(o.Z,{callback:I,children:(0,x.jsx)(b,{callback:async()=>{var e,n;const r=(0,d.n)(i,m.mX);if(r)return w(r);async function a(e){const n=await fetch(e),r=await n.blob();return new File([r],"image.jpg",{type:r.type})}Object.keys(q).length&&w({});const l=JSON.parse(JSON.stringify(i));if(null!==i&&void 0!==i&&null!==(e=i.fronturl)&&void 0!==e&&e.includes("blob")){const e=await a(i.fronturl);l.fronturl=e}if(null!==i&&void 0!==i&&null!==(n=i.backurl)&&void 0!==n&&n.includes("blob")){const e=await a(i.backurl);l.backurl=e}const t=new FormData;Object.keys(l).forEach((e=>{t.append(e,l[e])})),await(0,c.Be)(t).then((e=>{y((0,f.go)(e))})),I()},closePopup:I,mannequin:i,errors:q,setMannequin:h,mannequinInfo:g})}),l&&(0,x.jsx)(o.Z,{callback:Z,children:(0,x.jsx)(j.Z,{header:"Remove Mannequin",text:"Do you want to remove the mannequin <span> ".concat(null===v||void 0===v?void 0:v.name," ?</span>"),discardCallback:Z,removeCallback:async()=>{null!==v&&void 0!==v&&v._id&&await(0,c.dh)(v).then((e=>{y((0,f.go)(e))})),s(!1)}})})]})};var y=r(558);const C=e=>{var n,r,a,s,o;let{closePopup:g}=e;const b=(0,u.I0)(),[j,k]=(0,t.useState)({name:"",fronturl:"",backurl:"",width:null,height:null}),[q,N]=(0,t.useState)({}),[w,y]=(0,t.useState)({}),C=(0,u.v9)(f.wm),I=e=>{const{target:{name:n,value:r}}=e;k({...j,[n]:r})},Z=(e,n)=>{k({...j,[n]:e[0]})},_=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,d.n)(a,m.mX)})),Object.keys(r).length?(y(r),!1):(Object.keys(w).length&&y({}),!0)};return(0,x.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(0,d.n)(j,m.mX);if(n)return N(n);Object.keys(n).length&&N({});const r=new FormData;Object.keys(j).forEach((e=>{r.append(e,j[e])})),await(0,c.xs)(r).then((e=>{b((0,f.go)([...C,e]))})),g()},className:"new-mannequin",children:[(0,x.jsx)(i.Z,{text:"Add new mannequin",align:"center",color:v.ue}),(0,x.jsxs)("div",{className:"new-mannequin-inputs",children:[(0,x.jsx)(h.Z,{placeholder:"Name",value:null===j||void 0===j?void 0:j.name,label:"Name*",name:"name",error:(null===q||void 0===q||null===(n=q.name)||void 0===n?void 0:n.message)||"",callback:I}),(0,x.jsx)(h.Z,{placeholder:"Width",value:null===j||void 0===j?void 0:j.width,label:"Width*",name:"width",type:"number",error:(null===q||void 0===q||null===(r=q.width)||void 0===r?void 0:r.message)||"",callback:I}),(0,x.jsx)(h.Z,{placeholder:"Height",value:null===j||void 0===j?void 0:j.height,label:"Height*",name:"height",type:"number",error:(null===q||void 0===q||null===(a=q.height)||void 0===a?void 0:a.message)||"",callback:I}),(0,x.jsxs)("div",{className:"new-mannequin-zone",children:[(0,x.jsx)(i.Z,{text:"Front image",size:"18px",color:v.ue}),(0,x.jsx)(p.Z,{width:"480px",height:"160px",name:"fronturl",validationCallback:e=>_(e,"fronturl"),error:(null===w||void 0===w||null===(s=w.fronturl)||void 0===s?void 0:s.message)||"",onChange:e=>Z(e,"fronturl")})]}),(0,x.jsxs)("div",{className:"new-mannequin-zone",children:[(0,x.jsx)(i.Z,{text:"Back image",size:"18px",color:v.ue}),(0,x.jsx)(p.Z,{width:"480px",height:"160px",name:"backurl",validationCallback:e=>_(e,"backurl"),error:(null===w||void 0===w||null===(o=w.backurl)||void 0===o?void 0:o.message)||"",onChange:e=>Z(e,"backurl")})]})]}),(0,x.jsxs)("div",{className:"new-mannequin-actions",children:[(0,x.jsx)(l.o,{onClick:()=>g(),version:"gray",children:"Close"}),(0,x.jsx)(l.o,{type:"submit",children:"Add"})]})]})},I=()=>{const[e,n]=(0,t.useState)(!1),r=(0,u.v9)(f.wm),c=(0,u.I0)(),[d,m]=(0,t.useState)({});(0,t.useEffect)((()=>{(0,y.R)(c)}),[]);const h=()=>{n(!1),m({})};return(0,x.jsxs)("div",{children:[(0,x.jsx)(a.Z,{text:"Customize Mannequins"}),(0,x.jsx)(l.o,{classN:"add-button",onClick:()=>n(!0),type:"button",children:"New Mannequin"}),(0,x.jsxs)(s.Z,{children:[(0,x.jsxs)("div",{className:"colors-pallette-list",children:[(0,x.jsx)(i.Z,{text:"Mannequins List",size:"22px"}),null!==r&&void 0!==r&&r.length?(0,x.jsx)(w,{mannequins:r}):null]}),e&&(0,x.jsx)(o.Z,{callback:h,children:(0,x.jsx)(C,{closePopup:h})})]})]})}},8180:(e,n,r)=>{r.d(n,{Z:()=>s});var a=r(1726),l=r(971),t=r(184);const s=e=>{let{header:n,text:r,removeCallback:s,discardCallback:i}=e;return(0,t.jsxs)("div",{className:"remove-some",children:[(0,t.jsx)(l.Z,{text:n,align:"center",color:"#aa8a75"}),(0,t.jsx)("div",{className:"remove-some-text",dangerouslySetInnerHTML:{__html:r}}),(0,t.jsxs)("div",{className:"remove-some-actions",children:[(0,t.jsx)(a.o,{onClick:()=>i(),version:"gray",children:"Discard"}),(0,t.jsx)(a.o,{onClick:()=>s(),version:"red",children:"Remove"})]})]})}},5820:(e,n,r)=>{r.d(n,{Z:()=>l});var a=r(184);const l=e=>{let{children:n}=e;return(0,a.jsx)("div",{className:"main-body",children:n})}},370:(e,n,r)=>{r.d(n,{Z:()=>h});var a=r(971),l=r(1726),t=r(9806),s=r(1632),i=r(1927),o=r(7093),c=r(9434),u=r(1727),d=r(7689),m=r(184);const h=e=>{let{text:n}=e;const r=(0,c.I0)(),h=(0,d.s0)();return(0,m.jsxs)("div",{className:"main-head",children:[(0,m.jsx)(a.Z,{text:n,color:"#aa8a75"}),(0,m.jsxs)(l.o,{classN:"main-head-logout",onClick:async()=>{try{await(0,i.Sr)()&&((0,o.Mz)("accessToken"),r((0,u.tR)(!1)),r((0,u.f4)({})),h("/signin"))}catch(e){console.log(e)}},children:[(0,m.jsx)(t.G,{icon:s.jLD}),(0,m.jsx)("span",{children:"Sign out"})]})]})}},98:(e,n,r)=>{r.d(n,{Z:()=>s});var a=r(2791),l=r(4164);function t(e){const n=document.createElement("div");return n.setAttribute("id",e),document.body.appendChild(n),n}const s=function(e){let{children:n,wrapperId:r="react-portal-wrapper"}=e;const[s,i]=(0,a.useState)(null);(0,a.useLayoutEffect)((()=>{let e=document.getElementById(r),n=!1;return e||(n=!0,e=t(r)),i(e),()=>{n&&e.parentNode&&e.parentNode.removeChild(e)}}),[r]);let o=document.getElementById(r);return o||(o=t(r)),null===s?null:(0,l.createPortal)(n,s)}},558:(e,n,r)=>{r.d(n,{R:()=>t});var a=r(9153),l=r(8587);const t=e=>{(0,l.Km)().then((n=>{e((0,a.go)(n))})).catch((e=>console.log(e)))}},3083:(e,n,r)=>{r.d(n,{R:()=>a});const a=()=>{}},1726:(e,n,r)=>{r.d(n,{o:()=>i});var a=r(3083),l=r(184);const t=e=>{let{classN:n}=e;return(0,l.jsx)("div",{className:"LoaderCircleUI ".concat(n)})},s={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},i=e=>{let{children:n,type:r="button",version:i="default",classN:o="",disabled:c=!1,isLoading:u=!1,onClick:d=a.R,...m}=e;return(0,l.jsx)("button",{...m,className:"ButtonUI ".concat(o," ").concat(s[i]," ").concat(c?"_disabled":""),type:r,onClick:e=>!c&&!u&&d(e),children:u?(0,l.jsx)(t,{}):n})}},5168:(e,n,r)=>{r.d(n,{Z:()=>c});var a=r(2791),l=r(9806),t=r(1632),s=r(971),i=r(3083),o=r(184);const c=e=>{let{multiple:n=!1,width:r="400px",height:c="400px",onChange:u=i.R,defaultFiles:d,name:m,validationCallback:h=null,error:v="",classN:p}=e;const[g,x]=(0,a.useState)([]),b=(0,a.useRef)(null),j=(0,a.useRef)(null);(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.length&&x(d)}),[d]);const f=v?"red":"silver";return(0,o.jsxs)(o.Fragment,{children:[v&&(0,o.jsx)("span",{className:"error-message",children:v}),(0,o.jsxs)("div",{className:"DropzoneUI ".concat(p),style:{width:r,height:c,backgroundImage:"linear-gradient(90deg, ".concat(f," 50%, transparent 50%), linear-gradient(90deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%)")},onDrop:e=>{var r;e.preventDefault();const a=Array.from(e.dataTransfer.files);if(a.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return x([...g,...a]),u([...g,...a]);null!==a&&void 0!==a&&a.length&&(x(a),u(a)),null===j||void 0===j||null===(r=j.current)||void 0===r||r.classList.remove("_drag")},onDragOver:e=>{var n;e.preventDefault(),null===j||void 0===j||null===(n=j.current)||void 0===n||n.classList.add("_drag")},onDragLeave:e=>{var n;e.preventDefault(),null===j||void 0===j||null===(n=j.current)||void 0===n||n.classList.remove("_drag")},ref:j,children:[(0,o.jsx)("div",{className:"DropzoneUI__body",onClick:()=>{b.current&&b.current.click()},children:(0,o.jsx)(s.Z,{text:"Drag & drop some file".concat(n?"s":""," here, or click to select file").concat(n?"s":""),size:"14px",align:"center"})}),(0,o.jsx)("input",{type:"file",ref:b,style:{display:"none"},onChange:async e=>{const r=Array.from(e.target.files);if(!h||await h(r)){if(r.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return x([...g,...r]),u([...g,...r]);null!==r&&void 0!==r&&r.length&&(x(r),u(r))}},multiple:n,name:m}),(0,o.jsx)("div",{className:"DropzoneUI__files",style:{maxHeight:+c.replace("px","")-30+"px"},children:g.map(((e,n)=>(0,o.jsxs)("div",{className:"DropzoneUI__file",children:[(0,o.jsx)("img",{src:e.preview,alt:"Preview ".concat(n),className:"DropzoneUI__preview"}),(0,o.jsx)("button",{className:"DropzoneUI__remove",onClick:()=>(e=>{const n=[...g];n.splice(e,1),x(n)})(n),type:"button",children:(0,o.jsx)(l.G,{icon:t.EOp})})]},n)))})]})]})}},971:(e,n,r)=>{r.d(n,{Z:()=>l});var a=r(184);const l=e=>{let{text:n,classN:r="",color:l="",size:t="",align:s="left"}=e;return(0,a.jsx)("h1",{className:"headingUI ".concat(r),style:{color:l||"#000",fontSize:t||"30px",textAlign:s},children:n})}},4437:(e,n,r)=>{r.d(n,{Z:()=>l});var a=r(184);const l=e=>{let{value:n="",placeholder:r="",type:l="text",callback:t,label:s="",name:i,error:o,autoComplete:c="",classN:u="",disabled:d=!1,defaultChecked:m=!1}=e;return(0,a.jsxs)("div",{className:"InputUI ".concat(u),children:[s&&(0,a.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(i),children:s}),o&&(0,a.jsx)("span",{className:"error-message",children:o}),(0,a.jsx)("input",{className:"InputUI__input".concat(o?" _error":"").concat(d?" _disabled":""),id:"InputUI-".concat(i),name:i,type:l,onChange:e=>!d&&t(e),..."checkbox"===l?{checked:m}:{value:n},autoComplete:c,...r&&{placeholder:r}})]})}},7959:(e,n,r)=>{r.d(n,{Z:()=>i});var a=r(98),l=r(9806),t=r(1632),s=r(184);const i=e=>{let{callback:n,children:r}=e;return(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"PopupUI",children:[(0,s.jsxs)("div",{className:"PopupUI__container",children:[(0,s.jsx)("div",{className:"PopupUI__body",children:r}),(0,s.jsx)("div",{className:"PopupUI__icon",onClick:()=>n(),children:(0,s.jsx)(l.G,{icon:t.g82,fontSize:"18px",color:"#fff"})})]}),(0,s.jsx)("div",{className:"PopupUI__BG",onClick:()=>n()})]})})}},8779:(e,n,r)=>{r.d(n,{n:()=>a});const a=(e,n)=>{const r=Object.keys(e).reduce(((r,a)=>{const l=n[a]||[],t=e[a];return l.forEach((e=>{const n=e.rule,l=e.error;void 0===n.required||t||(r[a]=l),void 0===n.test||n.test.test(t)||(r[a]=l)})),r}),{});return!!Object.keys(r).length&&r}},8942:(e,n,r)=>{r.d(n,{E9:()=>i,Jn:()=>h,Vu:()=>o,hq:()=>d,ib:()=>c,mX:()=>s,o$:()=>a,uP:()=>l,un:()=>t,vA:()=>u,xj:()=>m});const a={name:[{rule:{required:!0},error:{message:"Name is required"}}],hexcode:[{rule:{required:!0},error:{message:"HexCode is required"}},{rule:{test:/^#(?:[0-9a-fA-F]{3}){1,2}$/},error:{message:"Incorrect format for HexCode"}}]},l={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}]},t={highresurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Highres Url"}}],previewurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Preview Url"}}]},s={name:[{rule:{required:!0},error:{message:"Name is required"}}],width:[{rule:{required:!0},error:{message:"Width is required"}}],height:[{rule:{required:!0},error:{message:"Height is required"}}]},i={fronturl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}],backurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Back Url"}}]},o={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}],type:[{rule:{required:!0},error:{message:"Type is required"}}],orientation:[{rule:{required:!0},error:{message:"Orientation is required"}}],width:[{rule:{required:!0},error:{message:"Width is required"}}],height:[{rule:{required:!0},error:{message:"Height is required"}}]},c={silhouetteurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Silhouette Url"}}]},u={name:[{rule:{required:!0},error:{message:"Name is required"}}]},d={name:[{rule:{required:!0},error:{message:"Name is required"}}]},m={email:[{rule:{required:!0},error:{message:"Email is required"}}],password:[{rule:{required:!0},error:{message:"Password is required"}}]},h={background:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}]}}}]);
//# sourceMappingURL=279.b33a4ba8.chunk.js.map