"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[80],{1175:(e,t,l)=>{l.r(t),l.d(t,{default:()=>N});var a=l(5820),n=l(370),o=l(2791),s=l(9434),i=l(1726),d=l(971),r=l(9158),c=l(2201),u=l(7098),v=l(7093),p=l(184);const m=e=>{let{palettes:t}=e;const l=(0,s.v9)(r.s_),a=(0,s.v9)(r.NB),[n,i]=(0,o.useState)(0),[m,x]=(0,o.useState)(0),h=(0,s.I0)(),j=e=>{e.preventDefault()};return(0,p.jsx)("div",{className:"palettes-list",children:null===a||void 0===a?void 0:a.map(((e,a)=>{const{name:o="",_id:s=""}=e||{},g=null===t||void 0===t?void 0:t.findIndex((e=>{var t;return(null===e||void 0===e||null===(t=e._id)||void 0===t?void 0:t.variant_id)===s})),f=t[g],{grouped:b=[]}=f||{};return(0,p.jsxs)("div",{className:"palette-body",children:[(0,p.jsx)(d.Z,{classN:"palette-variantname",text:o,color:v.ue,size:"18px"}),null!==b&&void 0!==b&&b.length?(0,p.jsx)("div",{className:"palette-content customXScrollbar",children:null===b||void 0===b?void 0:b.map(((e,a)=>{const o=null===l||void 0===l?void 0:l.find((t=>t._id===(null===e||void 0===e?void 0:e.print_id))),{previewurl:s="",name:v=""}=o||{};return(0,p.jsx)("div",{style:{backgroundImage:"url(".concat(u.Z7).concat(s||"",")")},className:"palette-elem",draggable:!0,onDragStart:e=>((e,t,l)=>{i(t),x(l)})(0,a,g),onDragOver:j,onDrop:e=>(async(e,l,a)=>{var o,s,i,d;e.preventDefault();const u=null===(o=t[a])||void 0===o||null===(s=o.grouped)||void 0===s?void 0:s[n],v=null===(i=t[a])||void 0===i||null===(d=i.grouped)||void 0===d?void 0:d[l];if(u&&v&&l!==n&&m===a){const e=await(0,c.LC)({fromElement:u,toElement:v});h((0,r.cz)(e))}})(e,a,g),children:(0,p.jsx)(d.Z,{classN:"palette-text",align:"center",text:v,size:"12px",color:"#fff"})},(null===e||void 0===e?void 0:e.print_id)+a)}))}):null]},(null===e||void 0===e?void 0:e._id)+a)}))})};var x=l(7959),h=l(8151),j=l(4437),g=l(8779),f=l(8942);const b=e=>{var t;let{closePopup:l}=e;const[a,n]=(0,o.useState)({name:""}),[r,u]=(0,o.useState)({}),v=(0,s.I0)();return(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(0,g.n)(a,f.hq);if(t)return u(t);Object.keys(t).length&&u({}),await(0,c.ql)(a),await(0,h.hX)(v),l()},className:"new-palette",children:[(0,p.jsx)(d.Z,{text:"Add new palette",align:"center",color:"#aa8a75"}),(0,p.jsx)("div",{className:"new-palette-inputs",children:(0,p.jsx)(j.Z,{placeholder:"Name",value:null===a||void 0===a?void 0:a.name,label:"Name*",name:"name",error:(null===r||void 0===r||null===(t=r.name)||void 0===t?void 0:t.message)||"",callback:e=>{const{target:{name:t,value:l}}=e;n({...a,[t]:l})}})}),(0,p.jsxs)("div",{className:"new-palette-actions",children:[(0,p.jsx)(i.o,{onClick:()=>l(),version:"gray",children:"Close"}),(0,p.jsx)(i.o,{type:"submit",children:"Add"})]})]})},N=()=>{const e=(0,s.v9)(r.MK),t=(0,s.I0)(),[l,c]=(0,o.useState)(!1),u=()=>{c(!1)};return(0,o.useEffect)((()=>{(0,h.Ax)(t),(0,h.hX)(t),(0,h.QP)(t)}),[]),(0,p.jsxs)("div",{className:"print-palettes",children:[(0,p.jsx)(n.Z,{text:"Customize Palettes"}),(0,p.jsx)(i.o,{classN:"add-button",onClick:()=>c(!0),type:"button",children:"New Palette"}),(0,p.jsxs)(a.Z,{children:[(0,p.jsxs)("div",{className:"prints-palettes-list",children:[(0,p.jsx)(d.Z,{text:"Palettes List",size:"22px"}),null!==e&&void 0!==e&&e.length?(0,p.jsx)(m,{palettes:e}):null]}),l&&(0,p.jsx)(x.Z,{callback:u,children:(0,p.jsx)(b,{closePopup:u})})]})]})}},8151:(e,t,l)=>{l.d(t,{Ax:()=>i,QP:()=>o,hX:()=>s});var a=l(9158),n=l(2201);const o=e=>{(0,n.yV)().then((t=>{e((0,a.rC)(t))})).catch((e=>console.log(e)))},s=e=>{(0,n.BT)().then((t=>{e((0,a.$u)(t))})).catch((e=>console.log(e)))},i=e=>{(0,n.qr)().then((t=>{e((0,a.cz)(t))})).catch((e=>console.log(e)))}},7093:(e,t,l)=>{l.d(t,{Df:()=>i,X6:()=>d,ue:()=>n,wM:()=>s,yr:()=>o});var a=l(7098);const n="#aa8a75",o=[{id:"top",text:"Top",value:"Top"},{id:"bottom",text:"Bottom",value:"Bottom"},{id:"sleeve",text:"Sleeve",value:"Sleeve"}],s=[{id:"front",text:"Front",value:"Front"},{id:"back",text:"Back",value:"Back"}],i=e=>{switch(e.toLowerCase()){case"top":return a.vj;case"bottom":return a.LB;case"sleeve":return a.Ex}},d=e=>null!==e&&void 0!==e&&e.length?e.reduce(((e,t)=>(e.push({id:null===t||void 0===t?void 0:t._id,text:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.name}),e)),[]):[]}}]);
//# sourceMappingURL=80.c11ceae6.chunk.js.map