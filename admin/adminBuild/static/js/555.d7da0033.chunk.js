"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[555],{4555:(e,n,r)=>{r.r(n),r.d(n,{default:()=>y});var a=r(370),t=r(1726),l=r(2791),s=r(5820),o=r(971),i=r(7959),c=r(7098),u=r(2201),d=r(9434),m=r(8779),p=r(8942),v=r(8877);const x=e=>{(0,u.Km)().then((n=>{e((0,v.go)(n))})).catch((e=>console.log(e)))};var h=r(4437),g=r(7093),b=r(5168),j=r(184);const f=e=>{var n,r,a,s,i;let{callback:u,closePopup:d,mannequin:v,setMannequin:x,errors:f,mannequinInfo:k}=e;const[N,w]=(0,l.useState)({}),q=(e,n)=>{x({...v,[n]:URL.createObjectURL(e[0])})},y=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,m.n)(a,p.E9)})),Object.keys(r).length?(w(r),!1):(Object.keys(N).length&&w({}),!0)};return(0,j.jsxs)("div",{className:"new-mannequin",children:[(0,j.jsx)(o.Z,{text:"Edit ".concat(k.name," mannequin"),align:"center",color:"#aa8a75"}),(0,j.jsx)("div",{className:"new-mannequin-inputs",children:(0,j.jsx)(h.Z,{placeholder:"Name",value:null===v||void 0===v?void 0:v.name,label:"Name*",name:"name",error:(null===f||void 0===f||null===(n=f.name)||void 0===n?void 0:n.message)||"",callback:e=>{const{target:{name:n,value:r}}=e;x({...v,[n]:r})}})}),(0,j.jsxs)("div",{className:"new-mannequin-zone",children:[(0,j.jsx)(o.Z,{text:"Front image",size:"18px",color:g.ue}),(0,j.jsx)(b.Z,{width:"480px",height:"260px",name:"fronturl",classN:"new-mannequin-dropzone",validationCallback:e=>y(e,"fronturl"),error:(null===N||void 0===N||null===(r=N.fronturl)||void 0===r?void 0:r.message)||"",onChange:e=>q(e,"fronturl"),defaultFiles:[{...v,preview:null!==(a=v.fronturl)&&void 0!==a&&a.includes("blob")?v.fronturl:"".concat(c.jV).concat(v.fronturl)}]})]}),(0,j.jsxs)("div",{className:"new-mannequin-zone",children:[(0,j.jsx)(o.Z,{text:"Back image",size:"18px",color:g.ue}),(0,j.jsx)(b.Z,{width:"480px",height:"260px",name:"backurl",classN:"new-mannequin-dropzone",onChange:e=>q(e,"backurl"),validationCallback:e=>y(e,"backurl"),error:(null===N||void 0===N||null===(s=N.backurl)||void 0===s?void 0:s.message)||"",defaultFiles:[{...v,preview:null!==(i=v.backurl)&&void 0!==i&&i.includes("blob")?v.backurl:"".concat(c.uW).concat(v.backurl)}]})]}),(0,j.jsxs)("div",{className:"new-mannequin-actions",children:[(0,j.jsx)(t.o,{onClick:()=>d(),version:"gray",children:"Discard"}),(0,j.jsx)(t.o,{onClick:()=>u(),children:"Save"})]})]})};var k=r(9806),N=r(1632);const w=e=>{let{mannequins:n}=e;const[r,a]=(0,l.useState)(!1),[t,s]=(0,l.useState)({}),[v,h]=(0,l.useState)({}),[g,b]=(0,l.useState)({}),[w,q]=(0,l.useState)("front"),y=(0,d.I0)(),I=()=>{a(!1),s({}),h({}),b({})},C=()=>{q("front"===w?"back":"front")};return(0,j.jsxs)("div",{className:"mannequin-list",children:[null===n||void 0===n?void 0:n.map((e=>(0,j.jsxs)("div",{className:"mannequins-list-mannequin",children:[(0,j.jsx)(o.Z,{classN:"mannequin-list-text _ellipsis",text:e.name,size:"16px"}),(0,j.jsxs)("div",{className:"mannequin-list-image",children:[(0,j.jsx)("img",{src:"front"===w?"".concat(c.jV).concat(e.fronturl):"".concat(c.uW).concat(e.backurl),className:"mannequin-list-img",alt:e.name}),(0,j.jsx)("button",{type:"button",className:"mannequin-list-rotate",onClick:C,children:(0,j.jsx)(k.G,{icon:N.QHR})}),(0,j.jsx)("button",{type:"button",className:"mannequin-list-edit",onClick:()=>{var n;(n=e)&&(s(n),h(n),a(!0))},children:(0,j.jsx)(k.G,{icon:N.TzT})})]})]},e._id))),r&&(0,j.jsx)(i.Z,{callback:I,children:(0,j.jsx)(f,{callback:async()=>{var e,n;const r=(0,m.n)(t,p.mX);if(r)return b(r);async function a(e){const n=await fetch(e),r=await n.blob();return new File([r],"image.jpg",{type:r.type})}Object.keys(g).length&&b({});const l=JSON.parse(JSON.stringify(t));if(null!==t&&void 0!==t&&null!==(e=t.fronturl)&&void 0!==e&&e.includes("blob")){const e=await a(t.fronturl);l.fronturl=e}if(null!==t&&void 0!==t&&null!==(n=t.backurl)&&void 0!==n&&n.includes("blob")){const e=await a(t.backurl);l.backurl=e}const s=new FormData;Object.keys(l).forEach((e=>{s.append(e,l[e])})),await(0,u.Be)(s),await x(y),I()},closePopup:I,mannequin:t,errors:g,setMannequin:s,mannequinInfo:v})})]})},q=e=>{var n,r,a;let{closePopup:s}=e;const i=(0,d.I0)(),[c,v]=(0,l.useState)({name:"",fronturl:"",backurl:""}),[f,k]=(0,l.useState)({}),[N,w]=(0,l.useState)({}),q=(e,n)=>{v({...c,[n]:e[0]})},y=(e,n)=>{let r={};return null===e||void 0===e||e.map((e=>{const a={[n]:null===e||void 0===e?void 0:e.name};r=(0,m.n)(a,p.mX)})),Object.keys(r).length?(w(r),!1):(Object.keys(N).length&&w({}),!0)};return(0,j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(0,m.n)(c,p.mX);if(n)return k(n);Object.keys(n).length&&k({});const r=new FormData;Object.keys(c).forEach((e=>{r.append(e,c[e])})),await(0,u.xs)(r),await x(i),s()},className:"new-mannequin",children:[(0,j.jsx)(o.Z,{text:"Add new mannequin",align:"center",color:g.ue}),(0,j.jsxs)("div",{className:"new-mannequin-inputs",children:[(0,j.jsx)(h.Z,{placeholder:"Name",value:null===c||void 0===c?void 0:c.name,label:"Name*",name:"name",error:(null===f||void 0===f||null===(n=f.name)||void 0===n?void 0:n.message)||"",callback:e=>{const{target:{name:n,value:r}}=e;v({...c,[n]:r})}}),(0,j.jsxs)("div",{className:"new-mannequin-zone",children:[(0,j.jsx)(o.Z,{text:"Front image",size:"18px",color:g.ue}),(0,j.jsx)(b.Z,{width:"480px",height:"160px",name:"fronturl",validationCallback:e=>y(e,"fronturl"),error:(null===N||void 0===N||null===(r=N.fronturl)||void 0===r?void 0:r.message)||"",onChange:e=>q(e,"fronturl")})]}),(0,j.jsxs)("div",{className:"new-mannequin-zone",children:[(0,j.jsx)(o.Z,{text:"Back image",size:"18px",color:g.ue}),(0,j.jsx)(b.Z,{width:"480px",height:"160px",name:"backurl",validationCallback:e=>y(e,"backurl"),error:(null===N||void 0===N||null===(a=N.backurl)||void 0===a?void 0:a.message)||"",onChange:e=>q(e,"backurl")})]})]}),(0,j.jsxs)("div",{className:"new-mannequin-actions",children:[(0,j.jsx)(t.o,{onClick:()=>s(),version:"gray",children:"Close"}),(0,j.jsx)(t.o,{type:"submit",children:"Add"})]})]})},y=()=>{const[e,n]=(0,l.useState)(!1),r=(0,d.v9)(v.wm),c=(0,d.I0)(),[u,m]=(0,l.useState)({});(0,l.useEffect)((()=>{x(c)}),[]);const p=()=>{n(!1),m({})};return(0,j.jsxs)("div",{children:[(0,j.jsx)(a.Z,{text:"Customize Mannequins"}),(0,j.jsx)(t.o,{classN:"add-button",onClick:()=>n(!0),type:"button",children:"New Mannequin"}),(0,j.jsxs)(s.Z,{children:[(0,j.jsxs)("div",{className:"colors-pallette-list",children:[(0,j.jsx)(o.Z,{text:"Mannequins List",size:"22px"}),null!==r&&void 0!==r&&r.length?(0,j.jsx)(w,{mannequins:r}):null]}),e&&(0,j.jsx)(i.Z,{callback:p,children:(0,j.jsx)(q,{closePopup:p})})]})]})}},5820:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{children:n}=e;return(0,a.jsx)("div",{className:"main-body",children:n})}},370:(e,n,r)=>{r.d(n,{Z:()=>l});var a=r(971),t=r(184);const l=e=>{let{text:n}=e;return(0,t.jsx)("div",{className:"main-head",children:(0,t.jsx)(a.Z,{text:n,color:"#aa8a75"})})}},98:(e,n,r)=>{r.d(n,{Z:()=>s});var a=r(2791),t=r(4164);function l(e){const n=document.createElement("div");return n.setAttribute("id",e),document.body.appendChild(n),n}const s=function(e){let{children:n,wrapperId:r="react-portal-wrapper"}=e;const[s,o]=(0,a.useState)(null);(0,a.useLayoutEffect)((()=>{let e=document.getElementById(r),n=!1;return e||(n=!0,e=l(r)),o(e),()=>{n&&e.parentNode&&e.parentNode.removeChild(e)}}),[r]);let i=document.getElementById(r);return i||(i=l(r)),null===s?null:(0,t.createPortal)(n,s)}},7093:(e,n,r)=>{r.d(n,{Df:()=>o,ue:()=>t,wM:()=>s,yr:()=>l});var a=r(7098);const t="#aa8a75",l=[{id:"top",text:"Top",value:"Top"},{id:"bottom",text:"Bottom",value:"Bottom"},{id:"sleeve",text:"Sleeve",value:"Sleeve"}],s=[{id:"front",text:"Front",value:"Front"},{id:"back",text:"Back",value:"Back"}],o=e=>{switch(e.toLowerCase()){case"top":return a.vj;case"bottom":return a.LB;case"sleeve":return a.Ex}}},3083:(e,n,r)=>{r.d(n,{R:()=>a});const a=()=>{}},1726:(e,n,r)=>{r.d(n,{o:()=>o});var a=r(3083),t=r(184);const l=e=>{let{classN:n}=e;return(0,t.jsx)("div",{className:"LoaderCircleUI ".concat(n)})},s={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},o=e=>{let{children:n,type:r="button",version:o="default",classN:i="",disabled:c=!1,isLoading:u=!1,onClick:d=a.R,...m}=e;return(0,t.jsx)("button",{...m,className:"ButtonUI ".concat(i," ").concat(s[o]," ").concat(c?"_disabled":""),type:r,onClick:e=>!c&&!u&&d(e),children:u?(0,t.jsx)(l,{}):n})}},5168:(e,n,r)=>{r.d(n,{Z:()=>c});var a=r(2791),t=r(9806),l=r(1632),s=r(971),o=r(3083),i=r(184);const c=e=>{let{multiple:n=!1,width:r="400px",height:c="400px",onChange:u=o.R,defaultFiles:d,name:m,validationCallback:p=null,error:v="",classN:x}=e;const[h,g]=(0,a.useState)([]),b=(0,a.useRef)(null),j=(0,a.useRef)(null);(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.length&&g(d)}),[d]);const f=v?"red":"silver";return(0,i.jsxs)(i.Fragment,{children:[v&&(0,i.jsx)("span",{className:"error-message",children:v}),(0,i.jsxs)("div",{className:"DropzoneUI ".concat(x),style:{width:r,height:c,backgroundImage:"linear-gradient(90deg, ".concat(f," 50%, transparent 50%), linear-gradient(90deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%)")},onDrop:e=>{var r;e.preventDefault();const a=Array.from(e.dataTransfer.files);if(a.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return g([...h,...a]),u([...h,...a]);null!==a&&void 0!==a&&a.length&&(g(a),u(a)),null===j||void 0===j||null===(r=j.current)||void 0===r||r.classList.remove("_drag")},onDragOver:e=>{var n;e.preventDefault(),null===j||void 0===j||null===(n=j.current)||void 0===n||n.classList.add("_drag")},onDragLeave:e=>{var n;e.preventDefault(),null===j||void 0===j||null===(n=j.current)||void 0===n||n.classList.remove("_drag")},ref:j,children:[(0,i.jsx)("div",{className:"DropzoneUI__body",onClick:()=>{b.current&&b.current.click()},children:(0,i.jsx)(s.Z,{text:"Drag & drop some file".concat(n?"s":""," here, or click to select file").concat(n?"s":""),size:"14px",align:"center"})}),(0,i.jsx)("input",{type:"file",ref:b,style:{display:"none"},onChange:async e=>{const r=Array.from(e.target.files);if(!p||await p(r)){if(r.forEach((e=>{e.preview=URL.createObjectURL(e)})),n)return g([...h,...r]),u([...h,...r]);null!==r&&void 0!==r&&r.length&&(g(r),u(r))}},multiple:n,name:m}),(0,i.jsx)("div",{className:"DropzoneUI__files",style:{maxHeight:+c.replace("px","")-30+"px"},children:h.map(((e,n)=>(0,i.jsxs)("div",{className:"DropzoneUI__file",children:[(0,i.jsx)("img",{src:e.preview,alt:"Preview ".concat(n),className:"DropzoneUI__preview"}),(0,i.jsx)("button",{className:"DropzoneUI__remove",onClick:()=>(e=>{const n=[...h];n.splice(e,1),g(n)})(n),type:"button",children:(0,i.jsx)(t.G,{icon:l.EOp})})]},n)))})]})]})}},971:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{text:n,classN:r="",color:t="",size:l="",align:s="left"}=e;return(0,a.jsx)("h1",{className:"headingUI ".concat(r),style:{color:t||"#000",fontSize:l||"30px",textAlign:s},children:n})}},4437:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(184);const t=e=>{let{value:n,placeholder:r="",type:t="text",callback:l,label:s="",name:o,error:i}=e;return(0,a.jsxs)("div",{className:"InputUI",children:[s&&(0,a.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(o),children:s}),i&&(0,a.jsx)("span",{className:"error-message",children:i}),(0,a.jsx)("input",{className:"InputUI__input".concat(i?" _error":""),id:"InputUI-".concat(o),name:o,type:t,value:n,onChange:l,...r&&{placeholder:r}})]})}},7959:(e,n,r)=>{r.d(n,{Z:()=>o});var a=r(98),t=r(9806),l=r(1632),s=r(184);const o=e=>{let{callback:n,children:r}=e;return(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"PopupUI",children:[(0,s.jsxs)("div",{className:"PopupUI__container",children:[(0,s.jsx)("div",{className:"PopupUI__body",children:r}),(0,s.jsx)("div",{className:"PopupUI__icon",onClick:()=>n(),children:(0,s.jsx)(t.G,{icon:l.g82,fontSize:"18px",color:"#fff"})})]}),(0,s.jsx)("div",{className:"PopupUI__BG",onClick:()=>n()})]})})}},8779:(e,n,r)=>{r.d(n,{n:()=>a});const a=(e,n)=>{const r=Object.keys(e).reduce(((r,a)=>{const t=n[a]||[],l=e[a];return t.forEach((e=>{const n=e.rule,t=e.error;void 0===n.required||l||(r[a]=t),void 0===n.test||n.test.test(l)||(r[a]=t)})),r}),{});return!!Object.keys(r).length&&r}},8942:(e,n,r)=>{r.d(n,{E9:()=>o,Vu:()=>i,ib:()=>c,mX:()=>s,o$:()=>a,uP:()=>t,un:()=>l});const a={name:[{rule:{required:!0},error:{message:"Name is required"}}],hexcode:[{rule:{required:!0},error:{message:"HexCode is required"}},{rule:{test:/^#(?:[0-9a-fA-F]{3}){1,2}$/},error:{message:"Incorrect format for HexCode"}}]},t={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}]},l={highresurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Highres Url"}}],previewurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Preview Url"}}]},s={name:[{rule:{required:!0},error:{message:"Name is required"}}]},o={fronturl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}],backurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Back Url"}}]},i={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}],type:[{rule:{required:!0},error:{message:"Type is required"}}],orientation:[{rule:{required:!0},error:{message:"Orientation is required"}}]},c={silhouetteurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Silhouette Url"}}]}}}]);
//# sourceMappingURL=555.d7da0033.chunk.js.map