"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[653],{9617:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var l=s(5820),n=s(370),a=s(2791),o=s(9434),i=s(5227),d=s(558),c=s(4459),r=s(6100),u=s(1726),v=s(8587),p=s(4437),m=s(1227),h=s(7098),x=s(1717),k=s(7093),b=s(7689),g=s(7145),j=s(3944),f=s(9158),w=s(5065),y=s(8151),C=s(971),Z=s(5168),N=s(8779),S=s(8942),B=s(184);const O=()=>{var e;const t=(0,o.I0)(),s=(0,o.v9)(r.vf),O=(0,b.s0)(),[_,D]=(0,a.useState)(null);(0,a.useEffect)((()=>((0,i.T)(t),(0,d.R)(t),(0,w.gx)(t),(0,y.Ax)(t),()=>{t((0,r.O_)())})),[]);const I=(0,o.v9)(x.Q3),[M,z]=(0,a.useState)({}),E=(0,a.useMemo)((()=>I.filter((e=>"Top"===e.type))),[I]),T=(0,a.useMemo)((()=>I.filter((e=>"Bottom"===e.type))),[I]),q=(0,a.useMemo)((()=>I.filter((e=>"Sleeve"===(null===e||void 0===e?void 0:e.type)))),[I]),A=(0,o.v9)(j.Pn),G=(0,k.zr)(A)||[{}],J=(0,o.v9)(f.MK),P=(0,k.zr)(J)||[{}],F=(e,l)=>{if(e){const n=structuredClone(s)[l],a=null===n||void 0===n?void 0:n.findIndex((t=>t.id===e));-1!==a?n.splice(a,1):n.push({id:e,order:1}),t((0,r.kw)({name:l,value:n}))}},K=(e,l,n)=>{if(l){const{value:a}=e,o=structuredClone(s)[n],i=null===o||void 0===o?void 0:o.findIndex((e=>e.id===l));-1!==i&&(o[i].order=a),t((0,r.kw)({name:n,value:o}))}},L=(e,l,n)=>{const{target:{checked:a}}=e,{id:o}=l;if(o){const e=structuredClone(s),l=null===e||void 0===e?void 0:e.palettes;if(a)null===l||void 0===l||l[n].push(o);else{const e=null===l||void 0===l?void 0:l[n].findIndex((e=>e===o));-1!==e&&(null===l||void 0===l||l[n].splice(e,1))}t((0,r.kw)({name:"palettes",value:l}))}},Q=(0,k.W_)(s);return(0,B.jsxs)("div",{children:[(0,B.jsx)(n.Z,{text:"New Garment"}),(0,B.jsx)(l.Z,{children:(0,B.jsxs)("div",{className:"garments-list-content",children:[(0,B.jsx)(u.o,{classN:"add-garment-button",onClick:async()=>{if(null!==s&&void 0!==s&&s.mannequin_id&&null!==s&&void 0!==s&&s.name){const e=new FormData,l=["tops","bottoms","sleeves","palettes"];Object.keys(s).forEach((t=>{l.includes(t)?e.append(t,JSON.stringify(s[t])):e.append(t,s[t])})),e.append("background",_),await(0,v.Ct)(e),t((0,r.O_)()),O("/garments")}},type:"button",disabled:!Q,children:"Add Garment"}),(0,B.jsxs)("div",{className:"garments-list-content-top",children:[(0,B.jsx)(p.Z,{classN:"add-garment-input",callback:e=>{const{target:{name:s,value:l}}=e;t((0,r.kw)({name:s,value:l}))},value:null===s||void 0===s?void 0:s.name,name:"name",label:"Name*"}),(0,B.jsxs)("div",{className:"garments-list-content-top-background",children:[(0,B.jsx)(C.Z,{text:"Background",color:k.ue,size:"18px"}),(0,B.jsx)(Z.Z,{width:"300px",height:"160px",name:"highresurl",validationCallback:e=>((e,t)=>{let s={};return null===e||void 0===e||e.map((e=>{const l={[t]:null===e||void 0===e?void 0:e.name};s=(0,N.n)(l,S.Jn)})),Object.keys(s).length?(z(s),!1):(Object.keys(M).length&&z({}),!0)})(e,"background"),error:(null===M||void 0===M||null===(e=M.highresurl)||void 0===e?void 0:e.message)||"",onChange:e=>(e=>{D(e[0])})(e)})]})]}),(0,B.jsxs)("div",{className:"garments-list-top",children:[(0,B.jsx)(c.Z,{details:s,callback:(e,s)=>((e,s)=>{const{target:{checked:l}}=e;s&&t((0,r.kw)({name:"mannequin_id",value:l?s:""}))})(e,s)}),(0,B.jsxs)("div",{className:"garments-list-dropdowns",children:[(0,B.jsx)(g.Z,{options:G,onChange:(e,t)=>L(e,t,"colors"),label:"Color palettes",details:s,type:"colors"}),(0,B.jsx)(g.Z,{options:P,onChange:(e,t)=>L(e,t,"prints"),label:"Print palettes",details:s,type:"prints"})]})]}),(0,B.jsx)(m.Z,{header:"Top Silhouettes",content:E,srcBase:h.vj,callback:e=>F(e,"tops"),callbackDropdown:K,type:"tops",details:s}),(0,B.jsx)(m.Z,{header:"Bottom Silhouettes",content:T,srcBase:h.LB,callback:e=>F(e,"bottoms"),callbackDropdown:K,type:"bottoms",details:s}),(0,B.jsx)(m.Z,{header:"Sleeve Silhouettes",content:q,srcBase:h.Ex,callback:e=>F(e,"sleeves"),callbackDropdown:K,type:"sleeves",details:s})]})})]})}}}]);
//# sourceMappingURL=653.8d602757.chunk.js.map