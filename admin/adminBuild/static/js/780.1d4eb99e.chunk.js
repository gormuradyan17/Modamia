"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[780],{6780:(e,r,l)=>{l.r(r),l.d(r,{default:()=>k});var t=l(5820),n=l(370),a=l(2791),s=l(9434),i=l(1726),o=l(971),c=l(7959),d=l(2614),u=l(2201);const p=e=>{(0,u.yV)().then((r=>{e((0,d.rC)(r))})).catch((e=>console.log(e)))};var v=l(7093),m=l(5168),h=l(4437),g=l(8779),x=l(8942),j=l(184);const b=e=>{var r,l,t,n;let{closePopup:c}=e;const d=(0,s.I0)(),[b,f]=(0,a.useState)({name:"",price:"",tags:"",highresurl:"",previewurl:""}),[w,N]=(0,a.useState)({}),[k,y]=(0,a.useState)({}),I=e=>{const{target:{name:r,value:l}}=e;f({...b,[r]:l})},C=(e,r)=>{f({...b,[r]:e[0]})},Z=(e,r)=>{let l={};return null===e||void 0===e||e.map((e=>{const t={[r]:null===e||void 0===e?void 0:e.name};l=(0,g.n)(t,x.un)})),Object.keys(l).length?(y(l),!1):(Object.keys(k).length&&y({}),!0)};return(0,j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=(0,g.n)(b,x.uP);if(r)return N(r);Object.keys(r).length&&N({});const l=new FormData;Object.keys(b).forEach((e=>{l.append(e,b[e])})),await(0,u.eS)(l),await p(d),c()},className:"new-print",children:[(0,j.jsx)(o.Z,{text:"Add new print",align:"center",color:v.ue}),(0,j.jsxs)("div",{className:"new-print-inputs",children:[(0,j.jsx)(h.Z,{placeholder:"Name",value:null===b||void 0===b?void 0:b.name,label:"Name*",name:"name",error:(null===w||void 0===w||null===(r=w.name)||void 0===r?void 0:r.message)||"",callback:I}),(0,j.jsx)(h.Z,{type:"number",placeholder:"Price",value:null===b||void 0===b?void 0:b.price,label:"Price*",name:"price",error:(null===w||void 0===w||null===(l=w.price)||void 0===l?void 0:l.message)||"",callback:I}),(0,j.jsx)(h.Z,{placeholder:"Tags",value:null===b||void 0===b?void 0:b.tags,label:"Tags",name:"tags",callback:I}),(0,j.jsxs)("div",{className:"new-print-zone",children:[(0,j.jsx)(o.Z,{text:"High res image",size:"18px",color:v.ue}),(0,j.jsx)(m.Z,{width:"480px",height:"160px",name:"highresurl",validationCallback:e=>Z(e,"highresurl"),error:(null===k||void 0===k||null===(t=k.highresurl)||void 0===t?void 0:t.message)||"",onChange:e=>C(e,"highresurl")})]}),(0,j.jsxs)("div",{className:"new-print-zone",children:[(0,j.jsx)(o.Z,{text:"Preview image",size:"18px",color:v.ue}),(0,j.jsx)(m.Z,{width:"480px",height:"160px",name:"previewurl",validationCallback:e=>Z(e,"previewurl"),error:(null===k||void 0===k||null===(n=k.previewurl)||void 0===n?void 0:n.message)||"",onChange:e=>C(e,"previewurl")})]})]}),(0,j.jsxs)("div",{className:"new-print-actions",children:[(0,j.jsx)(i.o,{onClick:()=>c(),version:"gray",children:"Close"}),(0,j.jsx)(i.o,{type:"submit",children:"Add"})]})]})};var f=l(7098);const w=e=>{var r,l,t,n,s,c;let{callback:d,closePopup:u,print:p,setPrint:b,errors:w,printInfo:N}=e;const k=e=>{const{target:{name:r,value:l}}=e;b({...p,[r]:l})},[y,I]=(0,a.useState)({}),C=(e,r)=>{b({...p,[r]:URL.createObjectURL(e[0])})},Z=(e,r)=>{let l={};return null===e||void 0===e||e.map((e=>{const t={[r]:null===e||void 0===e?void 0:e.name};l=(0,g.n)(t,x.un)})),Object.keys(l).length?(I(l),!1):(Object.keys(y).length&&I({}),!0)};return(0,j.jsxs)("div",{className:"new-print",children:[(0,j.jsx)(o.Z,{text:"Edit ".concat(N.name," print"),align:"center",color:"#aa8a75"}),(0,j.jsxs)("div",{className:"new-print-inputs",children:[(0,j.jsx)(h.Z,{placeholder:"Name",value:null===p||void 0===p?void 0:p.name,label:"Name*",name:"name",error:(null===w||void 0===w||null===(r=w.name)||void 0===r?void 0:r.message)||"",callback:k}),(0,j.jsx)(h.Z,{type:"number",placeholder:"Price",value:null===p||void 0===p?void 0:p.price,label:"Price*",name:"price",error:(null===w||void 0===w||null===(l=w.price)||void 0===l?void 0:l.message)||"",callback:k}),(0,j.jsx)(h.Z,{placeholder:"Tags",value:null===p||void 0===p?void 0:p.tags,label:"Tags",name:"tags",callback:k})]}),(0,j.jsxs)("div",{className:"new-print-zone",children:[(0,j.jsx)(o.Z,{text:"High res image",size:"18px",color:v.ue}),(0,j.jsx)(m.Z,{width:"480px",height:"160px",name:"highresurl",validationCallback:e=>Z(e,"highresurl"),error:(null===y||void 0===y||null===(t=y.highresurl)||void 0===t?void 0:t.message)||"",onChange:e=>C(e,"highresurl"),defaultFiles:[{...p,preview:null!==(n=p.highresurl)&&void 0!==n&&n.includes("blob")?p.highresurl:"".concat(f.ED).concat(p.highresurl)}]})]}),(0,j.jsxs)("div",{className:"new-print-zone",children:[(0,j.jsx)(o.Z,{text:"Preview image",size:"18px",color:v.ue}),(0,j.jsx)(m.Z,{width:"480px",height:"160px",name:"previewurl",onChange:e=>C(e,"previewurl"),validationCallback:e=>Z(e,"previewurl"),error:(null===y||void 0===y||null===(s=y.previewurl)||void 0===s?void 0:s.message)||"",defaultFiles:[{...p,preview:null!==(c=p.previewurl)&&void 0!==c&&c.includes("blob")?p.previewurl:"".concat(f.Z7).concat(p.previewurl)}]})]}),(0,j.jsxs)("div",{className:"new-print-actions",children:[(0,j.jsx)(i.o,{onClick:()=>u(),version:"gray",children:"Discard"}),(0,j.jsx)(i.o,{onClick:()=>d(),children:"Save"})]})]})},N=e=>{let{prints:r}=e;const[l,t]=(0,a.useState)(!1),[n,d]=(0,a.useState)({}),[v,m]=(0,a.useState)({}),[h,b]=(0,a.useState)({}),N=(0,s.I0)(),k=()=>{t(!1),d({}),m({}),b({})};return(0,j.jsxs)("div",{className:"print-list",children:[null===r||void 0===r?void 0:r.map((e=>(0,j.jsxs)("div",{className:"prints-list-print",children:[(0,j.jsx)(o.Z,{classN:"print-list-text _ellipsis",text:e.name,size:"16px"}),(0,j.jsx)("div",{className:"print-list-image",children:(0,j.jsx)("img",{src:"".concat(f.Z7).concat(e.previewurl),className:"print-list-img",alt:e.name})}),(0,j.jsx)("span",{}),(0,j.jsx)(i.o,{classN:"print-list-button",onClick:()=>(e=>{e&&(d(e),m(e),t(!0))})(e),children:"Edit"})]},e._id))),l&&(0,j.jsx)(c.Z,{callback:k,children:(0,j.jsx)(w,{callback:async()=>{var e,r;const l=(0,g.n)(n,x.uP);if(l)return b(l);async function t(e){const r=await fetch(e),l=await r.blob();return new File([l],"image.jpg",{type:l.type})}Object.keys(h).length&&b({});const a=JSON.parse(JSON.stringify(n));if(null!==n&&void 0!==n&&null!==(e=n.highresurl)&&void 0!==e&&e.includes("blob")){const e=await t(n.highresurl);a.highresurl=e}if(null!==n&&void 0!==n&&null!==(r=n.previewurl)&&void 0!==r&&r.includes("blob")){const e=await t(n.previewurl);a.previewurl=e}const s=new FormData;Object.keys(a).forEach((e=>{s.append(e,a[e])})),await(0,u.dt)(s),await p(N),k()},closePopup:k,print:n,errors:h,setPrint:d,printInfo:v})})]})},k=()=>{const[e,r]=(0,a.useState)(!1),l=(0,s.v9)(d.s_),u=(0,s.I0)(),v=()=>{r(!1),u((0,d.uk)())};return(0,a.useEffect)((()=>{p(u)}),[]),(0,j.jsxs)("div",{children:[(0,j.jsx)(n.Z,{text:"Customize Prints"}),(0,j.jsx)(i.o,{classN:"add-button",onClick:()=>r(!0),type:"button",children:"New Print"}),(0,j.jsxs)(t.Z,{children:[(0,j.jsxs)("div",{className:"prints-pallette-list",children:[(0,j.jsx)(o.Z,{text:"Print List",size:"22px"}),null!==l&&void 0!==l&&l.length?(0,j.jsx)(N,{prints:l}):null]}),e&&(0,j.jsx)(c.Z,{callback:v,children:(0,j.jsx)(b,{closePopup:v})})]})]})}},5820:(e,r,l)=>{l.d(r,{Z:()=>n});var t=l(184);const n=e=>{let{children:r}=e;return(0,t.jsx)("div",{className:"main-body",children:r})}},370:(e,r,l)=>{l.d(r,{Z:()=>a});var t=l(971),n=l(184);const a=e=>{let{text:r}=e;return(0,n.jsx)("div",{className:"main-head",children:(0,n.jsx)(t.Z,{text:r,color:"#aa8a75"})})}},98:(e,r,l)=>{l.d(r,{Z:()=>s});var t=l(2791),n=l(4164);function a(e){const r=document.createElement("div");return r.setAttribute("id",e),document.body.appendChild(r),r}const s=function(e){let{children:r,wrapperId:l="react-portal-wrapper"}=e;const[s,i]=(0,t.useState)(null);(0,t.useLayoutEffect)((()=>{let e=document.getElementById(l),r=!1;return e||(r=!0,e=a(l)),i(e),()=>{r&&e.parentNode&&e.parentNode.removeChild(e)}}),[l]);let o=document.getElementById(l);return o||(o=a(l)),null===s?null:(0,n.createPortal)(r,s)}},7093:(e,r,l)=>{l.d(r,{Df:()=>i,ue:()=>n,wM:()=>s,yr:()=>a});var t=l(7098);const n="#aa8a75",a=[{id:"top",text:"Top",value:"Top"},{id:"bottom",text:"Bottom",value:"Bottom"},{id:"sleeve",text:"Sleeve",value:"Sleeve"}],s=[{id:"front",text:"Front",value:"Front"},{id:"back",text:"Back",value:"Back"}],i=e=>{switch(e.toLowerCase()){case"top":return t.vj;case"bottom":return t.LB;case"sleeve":return t.Ex}}},3083:(e,r,l)=>{l.d(r,{R:()=>t});const t=()=>{}},1726:(e,r,l)=>{l.d(r,{o:()=>i});var t=l(3083),n=l(184);const a=e=>{let{classN:r}=e;return(0,n.jsx)("div",{className:"LoaderCircleUI ".concat(r)})},s={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},i=e=>{let{children:r,type:l="button",version:i="default",classN:o="",disabled:c=!1,isLoading:d=!1,onClick:u=t.R,...p}=e;return(0,n.jsx)("button",{...p,className:"ButtonUI ".concat(o," ").concat(s[i]," ").concat(c?"_disabled":""),type:l,onClick:e=>!c&&!d&&u(e),children:d?(0,n.jsx)(a,{}):r})}},5168:(e,r,l)=>{l.d(r,{Z:()=>c});var t=l(2791),n=l(9806),a=l(1632),s=l(971),i=l(3083),o=l(184);const c=e=>{let{multiple:r=!1,width:l="400px",height:c="400px",onChange:d=i.R,defaultFiles:u,name:p,validationCallback:v=null,error:m="",classN:h}=e;const[g,x]=(0,t.useState)([]),j=(0,t.useRef)(null),b=(0,t.useRef)(null);(0,t.useEffect)((()=>{null!==u&&void 0!==u&&u.length&&x(u)}),[u]);const f=m?"red":"silver";return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsx)("span",{className:"error-message",children:m}),(0,o.jsxs)("div",{className:"DropzoneUI ".concat(h),style:{width:l,height:c,backgroundImage:"linear-gradient(90deg, ".concat(f," 50%, transparent 50%), linear-gradient(90deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%), linear-gradient(0deg, ").concat(f," 50%, transparent 50%)")},onDrop:e=>{var l;e.preventDefault();const t=Array.from(e.dataTransfer.files);if(t.forEach((e=>{e.preview=URL.createObjectURL(e)})),r)return x([...g,...t]),d([...g,...t]);null!==t&&void 0!==t&&t.length&&(x(t),d(t)),null===b||void 0===b||null===(l=b.current)||void 0===l||l.classList.remove("_drag")},onDragOver:e=>{var r;e.preventDefault(),null===b||void 0===b||null===(r=b.current)||void 0===r||r.classList.add("_drag")},onDragLeave:e=>{var r;e.preventDefault(),null===b||void 0===b||null===(r=b.current)||void 0===r||r.classList.remove("_drag")},ref:b,children:[(0,o.jsx)("div",{className:"DropzoneUI__body",onClick:()=>{j.current&&j.current.click()},children:(0,o.jsx)(s.Z,{text:"Drag & drop some file".concat(r?"s":""," here, or click to select file").concat(r?"s":""),size:"14px",align:"center"})}),(0,o.jsx)("input",{type:"file",ref:j,style:{display:"none"},onChange:async e=>{const l=Array.from(e.target.files);if(!v||await v(l)){if(l.forEach((e=>{e.preview=URL.createObjectURL(e)})),r)return x([...g,...l]),d([...g,...l]);null!==l&&void 0!==l&&l.length&&(x(l),d(l))}},multiple:r,name:p}),(0,o.jsx)("div",{className:"DropzoneUI__files",style:{maxHeight:+c.replace("px","")-30+"px"},children:g.map(((e,r)=>(0,o.jsxs)("div",{className:"DropzoneUI__file",children:[(0,o.jsx)("img",{src:e.preview,alt:"Preview ".concat(r),className:"DropzoneUI__preview"}),(0,o.jsx)("button",{className:"DropzoneUI__remove",onClick:()=>(e=>{const r=[...g];r.splice(e,1),x(r)})(r),type:"button",children:(0,o.jsx)(n.G,{icon:a.EOp})})]},r)))})]})]})}},971:(e,r,l)=>{l.d(r,{Z:()=>n});var t=l(184);const n=e=>{let{text:r,classN:l="",color:n="",size:a="",align:s="left"}=e;return(0,t.jsx)("h1",{className:"headingUI ".concat(l),style:{color:n||"#000",fontSize:a||"30px",textAlign:s},children:r})}},4437:(e,r,l)=>{l.d(r,{Z:()=>n});var t=l(184);const n=e=>{let{value:r,placeholder:l="",type:n="text",callback:a,label:s="",name:i,error:o}=e;return(0,t.jsxs)("div",{className:"InputUI",children:[s&&(0,t.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(i),children:s}),o&&(0,t.jsx)("span",{className:"error-message",children:o}),(0,t.jsx)("input",{className:"InputUI__input".concat(o?" _error":""),id:"InputUI-".concat(i),name:i,type:n,value:r,onChange:a,...l&&{placeholder:l}})]})}},7959:(e,r,l)=>{l.d(r,{Z:()=>i});var t=l(98),n=l(9806),a=l(1632),s=l(184);const i=e=>{let{callback:r,children:l}=e;return(0,s.jsx)(t.Z,{children:(0,s.jsxs)("div",{className:"PopupUI",children:[(0,s.jsxs)("div",{className:"PopupUI__container",children:[(0,s.jsx)("div",{className:"PopupUI__body",children:l}),(0,s.jsx)("div",{className:"PopupUI__icon",onClick:()=>r(),children:(0,s.jsx)(n.G,{icon:a.g82,fontSize:"18px",color:"#fff"})})]}),(0,s.jsx)("div",{className:"PopupUI__BG",onClick:()=>r()})]})})}},8779:(e,r,l)=>{l.d(r,{n:()=>t});const t=(e,r)=>{const l=Object.keys(e).reduce(((l,t)=>{const n=r[t]||[],a=e[t];return n.forEach((e=>{const r=e.rule,n=e.error;void 0===r.required||a||(l[t]=n),void 0===r.test||r.test.test(a)||(l[t]=n)})),l}),{});return!!Object.keys(l).length&&l}},8942:(e,r,l)=>{l.d(r,{E9:()=>i,Vu:()=>o,ib:()=>c,mX:()=>s,o$:()=>t,uP:()=>n,un:()=>a});const t={name:[{rule:{required:!0},error:{message:"Name is required"}}],hexcode:[{rule:{required:!0},error:{message:"HexCode is required"}},{rule:{test:/^#(?:[0-9a-fA-F]{3}){1,2}$/},error:{message:"Incorrect format for HexCode"}}]},n={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}]},a={highresurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Highres Url"}}],previewurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Preview Url"}}]},s={name:[{rule:{required:!0},error:{message:"Name is required"}}]},i={fronturl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Front Url"}}],backurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Back Url"}}]},o={name:[{rule:{required:!0},error:{message:"Name is required"}}],price:[{rule:{required:!0},error:{message:"Price is required"}}],type:[{rule:{required:!0},error:{message:"Type is required"}}],orientation:[{rule:{required:!0},error:{message:"Orientation is required"}}]},c={silhouetteurl:[{rule:{test:/^$|\.jpe?g$|\.png$|\.webp$|\.bmp$/i},error:{message:"Incorrect format for Silhouette Url"}}]}}}]);
//# sourceMappingURL=780.1d4eb99e.chunk.js.map