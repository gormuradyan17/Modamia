"use strict";(self.webpackChunkmodamia_app=self.webpackChunkmodamia_app||[]).push([[728],{4504:(o,n,i)=>{i.d(n,{Z:()=>l});var t=i(184);const l=o=>{let{children:n}=o;return(0,t.jsx)("div",{className:"container",children:n})}},555:(o,n,i)=>{i.d(n,{W$:()=>v});var t=i(7098),l=i(6037);async function d(o,n,i,t,l,d){let e=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;const r=(null===o||void 0===o?void 0:o.src)||(null===l||void 0===l?void 0:l.src)||"",v=(null===o||void 0===o?void 0:o.color)||(null===l||void 0===l?void 0:l.color)||"",s=(null===o||void 0===o?void 0:o.position)||(null===l||void 0===l?void 0:l.position)||"",a=(null===o||void 0===o?void 0:o.order)||(null===l||void 0===l?void 0:l.order)||"",u=d?(null===o||void 0===o?void 0:o.width)/5*e:(null===o||void 0===o?void 0:o.width)||(null===l||void 0===l?void 0:l.width)||"",c=d?(null===o||void 0===o?void 0:o.height)/5*e:(null===o||void 0===o?void 0:o.height)||(null===l||void 0===l?void 0:l.height)||"",g=(null===o||void 0===o?void 0:o.printImageURL)||(null===l||void 0===l?void 0:l.printImageURL)||"",f=(null===o||void 0===o?void 0:o.id)||(null===l||void 0===l?void 0:l.id)||"";if(!r)return;const h=new Image;return h.src=await async function(o,n,i,t){const l=new Image;l.src=o,l.crossOrigin="*",await new Promise((o=>{l.onload=o}));const d=document.createElement("canvas").getContext("2d");if(!d)return"";if(d.canvas.width=i,d.canvas.height=t,d.clearRect(0,0,i,t),d.drawImage(l,0,0,i,t),n){const o=d.getImageData(0,0,i,t),l=o.data;let e=parseInt(n.substring(1),16);if(3===n.substring(1).length){let o="";for(let i=0;i<3;i++)o+=n.substring(1)[i]+n.substring(1)[i];e=parseInt(o,16)}const r=(16711680&e)>>16,v=(65280&e)>>8,s=255&e;let a;for(let n=0;n<l.length;n+=4)a=(l[n]/255+l[n+1]/255+l[n+2]/255+l[n+3]/255)/4,l[n]=r*a,l[n+1]=v*a,l[n+2]=s*a;d.putImageData(o,0,0)}return d.canvas.toDataURL("image/png")}(r,v,n,i),await new Promise((o=>{h.onload=o})),{img:h,position:s,color:v,widthImg:u,heightImg:c,order:a,frontBack:t,id:f,printImageURL:g}}async function e(o,n,i,t,l,d,e,r,v){let s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,a=arguments.length>10&&void 0!==arguments[10]&&arguments[10];if(!n||!o)return i;const u=new Image;if(u.src=n,u.crossOrigin="*",await new Promise((o=>{u.onload=o})),!i)return i.drawImage(u,0,0,t,l);o||i.drawImage(u,0,"bottom"===e?l:0,r,v);const c=document.createElement("canvas").getContext("2d");if(!c)return i.drawImage(u,0,0,t,l);c.canvas.width=t,c.canvas.height=l,c.clearRect(0,0,t,l),c.drawImage(u,0,0,t,l);const g=c.getImageData(0,0,t,l).data;let f=new Image;f.src=o,f.crossOrigin="*",await new Promise((o=>{f.onload=o}));const h=document.createElement("canvas").getContext("2d");if(!h)return i.drawImage(u,0,0,t,l);h.canvas.width=t,h.canvas.height=l,h.globalAlpha=1,h.globalCompositeOperation="multiply",h.clearRect(0,0,t,l),h.drawImage(u,0,0,a?t*s:t,a?l*s:l);for(let I=0;I*f.width*d<t;I++)for(let o=0;o*l*d<l;o++)h.drawImage(f,0,0,f.width,f.height,I*t*d,o*l*d,t*d,l*d);const m=h.getImageData(0,0,t,l),w=m.data;for(let I=0;I<g.length;I+=4)w[I+3]=g[I+3];h.putImageData(m,0,0);const p=new Image;return p.src=h.canvas.toDataURL("image/png"),await new Promise((o=>p.onload=o)),i.drawImage(p,0,0,t,l)}let r;const v=function(o,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fronts",v=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;const f=[];if(!v.current||null===s||void 0===s||!s._id)return;const h=v.current;let m=null===h||void 0===h?void 0:h.getContext("2d");const w=new Image;w.src="fronts"===i?"".concat(t.jV).concat(null===s||void 0===s?void 0:s.fronturl):"backs"===i?"".concat(t.uW).concat(null===s||void 0===s?void 0:s.backurl):"".concat(t.jV).concat(null===s||void 0===s?void 0:s.fronturl),w.onload=async()=>{const t=u?s.width/5*g:s.width,h=u?s.height/5*g:s.height;if(null===v.current)return;v.current.width=t,v.current.height=h;const p=t/h;let I=t,R=t/p;R>h&&(R=h,I=h*p);const L=(t-I)/2*g,U=(h-R)/2*g;null===m||void 0===m||m.clearRect(0,0,t,h),null===m||void 0===m||m.drawImage(w,L,U,I,R);const b=f.findIndex((o=>"sleeves"===(null===o||void 0===o?void 0:o.frontBack)));!n.sleeves[0].src&&f.length>2&&f.splice(b,1);for(let v=0;v<n[i].length;v++)if("color"===n[i][v].activeCategory)r=await d(n[i][v],t,h,i,a[i][v],u,g),await(0,l.HA)(r,f,i,u),"sleeves"===i&&(r=await d(n.fronts[v],t,h,"fronts",a.fronts[v],u,g),(0,l.HA)(r,f,i,u));else if("print"===n[i][v].activeCategory){var y,C,k,x,A,D,j,H,N,P,O,_,B,E,V,W,T,Z,$,q,z,F,G,J,K,M,Q,S,X,Y,oo,no,io,to,lo,eo,ro;if(r=await d(null===(y=n[i])||void 0===y?void 0:y[v],t,h,i,a[i][v],u,g),(0,l.HA)(r,f,i,u),setTimeout(e,100,n[i][v].printImageURL?n[i][v].printImageURL:a[i][v].printImageURL,null!==(C=n[i])&&void 0!==C&&null!==(k=C[v])&&void 0!==k&&k.src?null===(x=n[i])||void 0===x||null===(A=x[v])||void 0===A?void 0:A.src:null===(D=a[i])||void 0===D||null===(j=D[v])||void 0===j?void 0:j.src,m,t,h,o,n[i][v].position?n[i][v].position:a[i][v].position,null!==(H=n[i])&&void 0!==H&&null!==(N=H[v])&&void 0!==N&&N.width?null===(P=n[i])||void 0===P||null===(O=P[v])||void 0===O?void 0:O.width:null===(_=a[i])||void 0===_||null===(B=_[v])||void 0===B?void 0:B.width,null!==(E=n[i])&&void 0!==E&&null!==(V=E[v])&&void 0!==V&&V.height?null===(W=n[i])||void 0===W||null===(T=W[v])||void 0===T?void 0:T.height:null===(Z=a[i])||void 0===Z||null===($=Z[v])||void 0===$?void 0:$.height,g,u),"sleeves"===i)await e(n[i][v].printImageURL?n[i][v].printImageURL:a[i][v].printImageURL,null!==(q=n.fronts)&&void 0!==q&&null!==(z=q[v])&&void 0!==z&&z.src?null===(F=n.fronts)||void 0===F||null===(G=F[v])||void 0===G?void 0:G.src:null===(J=a.fronts)||void 0===J||null===(K=J[v])||void 0===K?void 0:K.src,m,t,h,o,n.fronts[v].position,null!==(M=n.fronts)&&void 0!==M&&null!==(Q=M[v])&&void 0!==Q&&Q.width?null===(S=n.fronts)||void 0===S||null===(X=S[v])||void 0===X?void 0:X.width:null===(Y=a.fronts)||void 0===Y||null===(oo=Y[v])||void 0===oo?void 0:oo.width,null!==(no=n.fronts)&&void 0!==no&&null!==(io=no[v])&&void 0!==io&&io.height?null===(to=n.fronts)||void 0===to||null===(lo=to[v])||void 0===lo?void 0:lo.height:null===(eo=a.fronts)||void 0===eo||null===(ro=eo[v])||void 0===ro?void 0:ro.height,g,u)}else{var vo,so;if("sleeves"===i)r=await d(null===(so=n.fronts)||void 0===so?void 0:so[v],t,h,"fronts",a.fronts[v],u,g),(0,l.HA)(r,f,"fronts",u);if(r=await d(null===(vo=n[i])||void 0===vo?void 0:vo[v],t,h,i,a[i][v],u,g),(0,l.HA)(r,f,i,u),u||c){var ao,uo,co,go,fo,ho,mo,wo,po,Io,Ro,Lo,Uo,bo,yo,Co,ko,xo,Ao,Do;if((n.fronts[0].printImageURL||a.fronts[0].printImageURL)&&(n.fronts[1].printImageURL||a.fronts[1].printImageURL))e(n.fronts[v].printImageURL?n.fronts[v].printImageURL:a.fronts[v].printImageURL,null!==(co=n.fronts)&&void 0!==co&&null!==(go=co[v])&&void 0!==go&&go.src?null===(fo=n.fronts)||void 0===fo||null===(ho=fo[v])||void 0===ho?void 0:ho.src:null===(mo=a.fronts)||void 0===mo||null===(wo=mo[v])||void 0===wo?void 0:wo.src,m,t,h,o,n.fronts[v].position,null!==(po=n.fronts)&&void 0!==po&&null!==(Io=po[v])&&void 0!==Io&&Io.width?null===(Ro=n.fronts)||void 0===Ro||null===(Lo=Ro[v])||void 0===Lo?void 0:Lo.width:null===(Uo=a.fronts)||void 0===Uo||null===(bo=Uo[v])||void 0===bo?void 0:bo.width,null!==(yo=n.fronts)&&void 0!==yo&&null!==(Co=yo[v])&&void 0!==Co&&Co.height?null===(ko=n.fronts)||void 0===ko||null===(xo=ko[v])||void 0===xo?void 0:xo.height:null===(Ao=a.fronts)||void 0===Ao||null===(Do=Ao[v])||void 0===Do?void 0:Do.height,g,u);else if(n.fronts[0].printImageURL||a.fronts[0].printImageURL){var jo,Ho,No,Po,Oo,_o,Bo,Eo,Vo,Wo,To,Zo,$o,qo,zo,Fo,Go,Jo;e(n.fronts[0].printImageURL?n.fronts[0].printImageURL:a.fronts[0].printImageURL,null!==(jo=n.fronts)&&void 0!==jo&&null!==(Ho=jo[0])&&void 0!==Ho&&Ho.src?null===(No=n.fronts)||void 0===No||null===(Po=No[0])||void 0===Po?void 0:Po.src:null===(Oo=a.fronts)||void 0===Oo||null===(_o=Oo[0])||void 0===_o?void 0:_o.src,m,t,h,o,n.fronts[0].position,null!==(Bo=n.fronts)&&void 0!==Bo&&null!==(Eo=Bo[0])&&void 0!==Eo&&Eo.width?null===(Vo=n.fronts)||void 0===Vo||null===(Wo=Vo[0])||void 0===Wo?void 0:Wo.width:null===(To=a.fronts)||void 0===To||null===(Zo=To[0])||void 0===Zo?void 0:Zo.width,null!==($o=n.fronts)&&void 0!==$o&&null!==(qo=$o[0])&&void 0!==qo&&qo.height?null===(zo=n.fronts)||void 0===zo||null===(Fo=zo[0])||void 0===Fo?void 0:Fo.height:null===(Go=a.fronts)||void 0===Go||null===(Jo=Go[0])||void 0===Jo?void 0:Jo.height,g,u)}else if(n.fronts[1].printImageURL||a.fronts[1].printImageURL){var Ko,Mo,Qo,So,Xo,Yo,on,nn,tn,ln,dn,en,rn,vn,sn,an,un,cn;e(n.fronts[1].printImageURL?n.fronts[1].printImageURL:a.fronts[1].printImageURL,null!==(Ko=n.fronts)&&void 0!==Ko&&null!==(Mo=Ko[1])&&void 0!==Mo&&Mo.src?null===(Qo=n.fronts)||void 0===Qo||null===(So=Qo[1])||void 0===So?void 0:So.src:null===(Xo=a.fronts)||void 0===Xo||null===(Yo=Xo[1])||void 0===Yo?void 0:Yo.src,m,t,h,o,n.fronts[1].position,null!==(on=n.fronts)&&void 0!==on&&null!==(nn=on[1])&&void 0!==nn&&nn.width?null===(tn=n.fronts)||void 0===tn||null===(ln=tn[1])||void 0===ln?void 0:ln.width:null===(dn=a.fronts)||void 0===dn||null===(en=dn[1])||void 0===en?void 0:en.width,null!==(rn=n.fronts)&&void 0!==rn&&null!==(vn=rn[1])&&void 0!==vn&&vn.height?null===(sn=n.fronts)||void 0===sn||null===(an=sn[1])||void 0===an?void 0:an.height:null===(un=a.fronts)||void 0===un||null===(cn=un[1])||void 0===cn?void 0:cn.height,g,u)}r=await d(null===(ao=n.sleeves)||void 0===ao?void 0:ao[0],t,h,"sleeves",null===(uo=a.sleeves)||void 0===uo?void 0:uo[0],u,g),r&&(0,l.HA)(r,f,"sleeves",u)}}await async function(o,n){const i=o.sort(((o,n)=>o.order-n.order));for(const t of i){const{img:o,position:i,widthImg:l,heightImg:d}=t;n.drawImage(o,0,i.includes("bottom")?n.canvas.height-d:0,l,d)}}(f,m)}}},3083:(o,n,i)=>{i.d(n,{R:()=>t});const t=()=>{}},3158:(o,n,i)=>{i.d(n,{o:()=>r});var t=i(3083),l=i(184);const d=o=>{let{classN:n}=o;return(0,l.jsx)("div",{className:"LoaderCircleUI ".concat(n||"")})},e={default:"default-btn",red:"red-btn",orange:"orange-btn",blue:"blue-btn",green:"green-btn",gray:"gray-btn"},r=o=>{let{children:n,type:i="button",version:r="default",classN:v="",disabled:s=!1,isLoading:a=!1,onClick:u=t.R,...c}=o;return(0,l.jsx)("button",{...c,className:"ButtonUI ".concat(v," ").concat(e[r]," ").concat(s?"_disabled":""),type:i,onClick:o=>!s&&!a&&u(o),children:a?(0,l.jsx)(d,{}):n})}}}]);
//# sourceMappingURL=728.dde2a8cc.chunk.js.map