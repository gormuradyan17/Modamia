"use strict";(self.webpackChunkmodamia_app=self.webpackChunkmodamia_app||[]).push([[161,995],{1709:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(184);const s=e=>{let{classN:a=""}=e;return(0,n.jsx)("div",{className:"customization-body-loader ".concat(a),children:(0,n.jsx)("svg",{fill:"none",className:"customization-body-svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("circle",{className:"circle",cx:"50",cy:"50",r:"45"})})})}},117:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var n=t(4504),s=t(971),c=t(6037),l=t(2791),o=t(9434),i=t(7689),r=t(6100),d=t(5851),u=t(4437);const m=function(e,a){const[t,n]=(0,l.useState)(e);return(0,l.useEffect)((()=>{const t=setTimeout((()=>{n(e)}),a);return()=>{clearTimeout(t)}}),[e,a]),t};var v=t(1632),x=t(9806),h=t(1709),p=t(4222),j=t(555),f=t(1726),g=t(184);const N=e=>{let{data:a}=e;const t=(0,l.useRef)(null),[n,s]=(0,l.useState)(!1),c=(0,i.s0)();(0,l.useEffect)((()=>{console.log(a,"data"),a&&(async()=>{await(0,j.W$)(.3,a.modelData,"fronts",t,a.activeMannequin,a.modelData,!0,!1,2.5),await s(!0)})()}),[a,t]),(0,l.useEffect)((()=>()=>{t.current=null}),[]);return(0,g.jsxs)("div",{className:"customization-mannequin",children:[!n&&(0,g.jsx)(h.Z,{}),(0,g.jsx)("canvas",{...!n&&{style:{opacity:0,visibility:"hidden"}},ref:t}),(0,g.jsx)(f.o,{classN:"remove-my-garment",onClick:async e=>{e.stopPropagation(),await(0,p.N6)({cart_id:null===a||void 0===a?void 0:a.id}),c("/home")},children:(0,g.jsx)(x.G,{icon:v.$aW})})]})};var w=t(7098);const y=e=>{const[a,t]=(0,l.useState)(!1);if(e){const a=new Image;a.src=e,a.onload=()=>{t(!0)}}return a},z=e=>{let{name:a,url:t}=e;const n=y(t);return(0,g.jsx)("div",{className:"customization-mannequin",children:n?(0,g.jsx)("img",{src:t,alt:a}):(0,g.jsx)(h.Z,{})})},b=e=>{let{userId:a="",title:t=""}=e;const v=(0,o.I0)(),x=(0,l.useRef)(!1),h=(0,o.v9)(r.JN),p=(0,i.s0)();(0,l.useEffect)((()=>{(0,d.x6)(v,a)}),[a]);const[j,f]=(0,l.useState)(""),y=m(j,500);return(0,l.useEffect)((()=>{x.current?(async()=>{await(0,d.l3)(v,j,a)})():x.current=!0}),[y]),(0,g.jsx)("div",{className:"customization-mannequins",children:(0,g.jsxs)(n.Z,{children:[t&&(0,g.jsx)(s.Z,{size:"28px",align:"center",color:c.ue,text:t}),(0,g.jsxs)("div",{className:"customization-body customization-body-mannequins",children:[(0,g.jsx)(s.Z,{size:"22px",align:"center",...!t&&{color:c.ue},text:"Select garment to continue customization"}),(0,g.jsx)(u.Z,{classN:"customization-search",name:"search",callback:e=>{const{target:{value:a}}=e;if(null===j||void 0===j||!j.length)return f(a.trim());f(a)},value:j,placeholder:"Search Garment"}),!(null===h||void 0===h||!h.length)&&(0,g.jsx)("div",{className:"customization-mannequins-list",children:h.map(((e,a)=>{const{mannequin:t={},garment:n,_id:l="",details:o}=e;return(0,g.jsxs)("div",{className:"customization-elem",onClick:()=>((e,a)=>{a&&null!==e&&void 0!==e&&e._id&&(v((0,r.DA)(e)),p("/customization/".concat(a),{state:{fromCart:!0}}))})(n,l||(null===n||void 0===n?void 0:n._id)),children:[(0,g.jsx)(s.Z,{text:null===n||void 0===n?void 0:n.name,size:"16px",color:c.ue,align:"center"}),o?(0,g.jsx)(N,{data:o}):(0,g.jsx)(z,{url:"".concat(w.jV).concat(null===t||void 0===t?void 0:t.fronturl),name:null===t||void 0===t?void 0:t.name})]},a)}))})]})]})})}},2545:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var n=t(117),s=t(184);const c=()=>(0,s.jsx)(n.default,{title:"All Garments"})},5851:(e,a,t)=>{t.d(a,{Cg:()=>i,l3:()=>r,x6:()=>o});var n=t(5838),s=t(6100),c=t(9153),l=t(8587);const o=(e,a)=>{(0,l.dm)({user_id:a}).then((a=>{e((0,s.$V)(a))})).catch((e=>console.log(e)))},i=async(e,a)=>{(0,l.qs)({garment_id:a}).then((async a=>{const{details:t={},...l}=a;var o;(await e((0,s.DA)(l)),null!==t&&void 0!==t&&t.details&&Object.keys(null===t||void 0===t?void 0:t.details).length)&&(await e((0,c.zq)(null===t||void 0===t||null===(o=t.details)||void 0===o?void 0:o.modelData)),await e((0,c.dz)(t)),await e((0,n.ot)({...null===t||void 0===t?void 0:t.details})),await e((0,c.co)(!1)));await e((0,c.co)(!1))})).catch((a=>{console.log(a),e((0,c.co)(!1))}))},r=(e,a,t)=>{(0,l.Q$)({criteria:a,user_id:t}).then((a=>{e((0,s.$V)(a))})).catch((e=>console.log(e)))}},4437:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(184);const s=e=>{let{value:a="",placeholder:t="",type:s="text",callback:c,label:l="",name:o,error:i,autoComplete:r="",classN:d="",disabled:u=!1,defaultChecked:m=!1}=e;return(0,n.jsxs)("div",{className:"InputUI ".concat(d),children:[l&&(0,n.jsx)("label",{className:"InputUI__label",htmlFor:"InputUI-".concat(o),children:l}),i&&(0,n.jsx)("span",{className:"error-message",children:i}),(0,n.jsx)("input",{className:"InputUI__input".concat(i?" _error":"").concat(u?" _disabled":""),id:"InputUI-".concat(o),name:o,type:s,onChange:e=>!u&&c(e),..."checkbox"===s?{checked:m}:{value:a},...r&&{autoComplete:r},...t&&{placeholder:t}})]})}}}]);
//# sourceMappingURL=161.db01fd62.chunk.js.map