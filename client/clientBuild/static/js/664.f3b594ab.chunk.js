"use strict";(self.webpackChunkmodamia_app=self.webpackChunkmodamia_app||[]).push([[664],{664:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var n=t(791),s=t(98);async function i(e,a,t,n,s){const i=new Image;i.src=await async function(e,a,t,n){const s=new Image;s.src=e,await new Promise((e=>{s.onload=e}));const i=document.createElement("canvas").getContext("2d");if(!i)return"";if(i.canvas.width=t,i.canvas.height=n,i.clearRect(0,0,t,n),i.drawImage(s,0,0,t,n),a){const e=i.getImageData(0,0,t,n),s=e.data;let c=parseInt(a.substring(1),16);if(3===a.substring(1).length){let e="";for(let t=0;t<3;t++)e+=a.substring(1)[t]+a.substring(1)[t];c=parseInt(e,16)}const o=(16711680&c)>>16,r=(65280&c)>>8,l=255&c;let d;for(let a=0;a<s.length;a+=4)d=(s[a]/255+s[a+1]/255+s[a+2]/255+s[a+3]/255)/4,s[a]=o*d,s[a+1]=r*d,s[a+2]=l*d;i.putImageData(e,0,0)}return i.canvas.toDataURL("image/png")}(e,a,n,s),await new Promise((e=>{i.onload=e})),t.drawImage(i,0,0,n,s)}async function c(e,a,t,n,s,i){const c=new Image;if(c.src=a,await new Promise((e=>{c.onload=e})),!t)return t.drawImage(c,0,0,n,s);if(!e)return t.drawImage(c,0,0,n,s);const o=document.createElement("canvas").getContext("2d");if(!o)return t.drawImage(c,0,0,n,s);o.canvas.width=n,o.canvas.height=s,o.clearRect(0,0,n,s),o.drawImage(c,0,0,n,s);const r=o.getImageData(0,0,n,s).data;let l=new Image;l.src=e,l.crossOrigin="*",await new Promise((e=>{l.onload=e}));const d=document.createElement("canvas").getContext("2d");if(!d)return t.drawImage(c,0,0,n,s);d.canvas.width=n,d.canvas.height=s,d.globalAlpha=1,d.globalCompositeOperation="multiply",o.clearRect(0,0,n,s),d.drawImage(c,0,0,n,s),d.drawImage(l,0,0,n,s);const g=d.getImageData(0,0,n,s),m=g.data;for(let u=0;u<r.length;u+=4)m[u+3]=r[u+3];d.putImageData(g,0,0);const h=new Image;return h.src=d.canvas.toDataURL("image/png"),await new Promise((e=>h.onload=e)),t.drawImage(h,0,0,n,s)}var o=t(971),r=t(877),l=t(434),d=t(184);const g=e=>{let{tabs:a}=e;const t=(0,l.I0)(),[s,i]=(0,n.useState)("");return(0,n.useEffect)((()=>{a&&i(a[0].heading)}),[a]),(0,d.jsx)("div",{className:"TabUI",children:(0,d.jsxs)("div",{className:"TabUI-body",children:[(0,d.jsx)("div",{className:"TabUI-heads",children:a&&a.map(((e,a)=>(0,d.jsx)("div",{className:"TabUI-head ".concat(e.heading===s?"_active":""),onClick:()=>{i(e.heading);(e=>{t((0,r.Qr)(e))})("Color"===e.id?"color":"Print"===e.id?"print":"")},children:(0,d.jsx)(o.Z,{color:"#000",text:e.heading,size:"18px",align:"left"})},e.id||a)))}),(0,d.jsx)("div",{className:"TabUI-contents",children:a&&a.map(((e,a)=>(0,d.jsx)("div",{className:"TabUI-content ".concat(e.heading===s?"_active":""),children:e.content||(0,d.jsx)(o.Z,{color:"black",size:"16px",text:"Nothing to show"})},e.id||a)))})]})})},m=(0,n.lazy)((()=>t.e(293).then(t.bind(t,293)))),h=(0,n.lazy)((()=>t.e(416).then(t.bind(t,416)))),u=(0,n.lazy)((()=>t.e(301).then(t.bind(t,301)))),v=()=>{const[e,a]=(0,n.useState)([{id:"Silhouette",heading:"Silhouette",content:(0,d.jsx)(m,{})},{id:"Color",heading:"Color",content:(0,d.jsx)(h,{})},{id:"Print",heading:"Print",content:(0,d.jsx)(u,{})}]);return(0,d.jsxs)("div",{className:"customization-features",children:[(0,d.jsx)(o.Z,{text:"Customize",color:"#a57867",size:"20px"}),(0,d.jsx)(g,{tabs:e})]})},x=e=>{let{children:a}=e;return(0,d.jsx)("div",{className:"container",children:a})},w=e=>{let{infoData:a}=e;return(0,d.jsxs)("div",{className:"customization-info",children:[(0,d.jsx)(o.Z,{classN:"customization-info-name",text:a.name,size:"22px",color:"#a57867"}),(0,d.jsx)(o.Z,{text:"AMD ".concat(a.price),size:"18px",color:"#c37489"})]})};var f=t(201);const I=()=>(0,d.jsx)("div",{className:"customization-body-loader",children:(0,d.jsx)("svg",{fill:"none",className:"customization-body-svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("circle",{className:"circle",cx:"50",cy:"50",r:"45"})})}),b=()=>{const e=(0,l.v9)(r.wm),a=(0,l.v9)(r.DP),t=(0,l.v9)(r.N3),o=(0,l.v9)(r.qD),g=(0,l.v9)(r.Xy),m=(0,l.I0)(),h=(0,n.useRef)(null),[u,b]=(0,n.useState)(.1);(0,n.useEffect)((()=>{(e=>{(0,f.Km)().then((a=>{e((0,r.go)(a))})).catch((e=>console.log(e)))})(m)}),[]),(0,n.useEffect)((()=>{if(null!==e&&void 0!==e&&e.length){const n=async()=>{const n=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"color";return[{src:s.Di,color:e,printImageURL:null===a||void 0===a?void 0:a.highresurl,category:t},{src:s.QM,color:e,printImageURL:null===a||void 0===a?void 0:a.highresurl,category:t}]}(a,t,o);await((a,t)=>{var n,o;if(!h.current||null===e||void 0===e||!e.length)return;m((0,r.j_)(!0));const l=h.current;l.width=s.bf,l.height=s.Cb;let d=null===(n=h.current)||void 0===n?void 0:n.getContext("2d");const g=new Image;g.src="".concat(s.jV).concat(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.fronturl),g.onload=async()=>{await(null===d||void 0===d?void 0:d.drawImage(g,0,0,s.bf,s.Cb));for(let e=0;e<t.length;e++)"color"===t[e].category?await i(t[e].src,t[e].color,d,s.bf,s.Cb):"print"===t[e].category?await c(t[e].printImageURL,t[e].src,d,s.bf,s.Cb):await i(t[e].src,"",d,s.bf,s.Cb);await m((0,r.j_)(!1))}})(0,n)};n()}}),[e,a,t,o]);return(0,d.jsx)(x,{children:(0,d.jsxs)("div",{className:"customization",children:[(0,d.jsxs)("div",{className:"customization-body",children:[g&&(0,d.jsx)(I,{}),(0,d.jsx)("canvas",{className:"canvas",id:"canvas",ref:h})]}),(0,d.jsxs)("div",{className:"customization-body",children:[(0,d.jsx)(w,{infoData:{name:"the juliette dress",price:"59,775"}}),(0,d.jsx)(v,{})]})]})})}},971:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(184);const s=e=>{let{text:a,classN:t="",color:s="",size:i="",align:c="left"}=e;return(0,n.jsx)("h1",{className:"headingUI ".concat(t),style:{color:s||"#000",fontSize:i||"30px",textAlign:c},children:a})}}}]);
//# sourceMappingURL=664.f3b594ab.chunk.js.map