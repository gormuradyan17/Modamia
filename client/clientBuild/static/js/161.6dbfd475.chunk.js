"use strict";(self.webpackChunkmodamia_app=self.webpackChunkmodamia_app||[]).push([[161],{161:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var s=n(9434),o=n(9153),r=n(2201);var i=n(2791),a=n(184);const l=()=>{const e=(0,i.useRef)(null),[t,n]=((0,s.v9)(o.wm),(0,i.useState)([]));(0,i.useEffect)((()=>{localStorage.hasOwnProperty("basket")&&n(JSON.parse(localStorage.getItem("basket")||"[]"))}),[]),(0,i.useEffect)((()=>{(e=>{(0,r.Km)().then((t=>{e((0,o.go)(t))})).catch((e=>console.log(e)))})(l)}),[]);const l=(0,s.I0)();return(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("basket")||"[]"),t=document.getElementById("canvasContainer");e.forEach(((e,n)=>{const s=document.createElement("canvas");s.width=500,s.height=500,t&&t.appendChild(s);const o=s.getContext("2d"),r=new Image;r.src=e.imageUrl,r.onload=()=>{o&&o.drawImage(r,e.x,e.y,e.width,e.height)}}))}),[]),(0,a.jsx)("div",{children:(0,a.jsx)("canvas",{ref:e,width:800,height:600})})}},2201:(e,t,n)=>{n.d(t,{i9:()=>d,So:()=>c,qs:()=>S,dm:()=>v,Km:()=>p,qr:()=>u,BT:()=>g,pW:()=>f,TQ:()=>m,Q$:()=>w});var s=n(7098);const o=[{name:"token",default:"",isJson:!1}],r=[];var i=function(e){return e.local="local",e.session="session",e}(i||{});const{localStorageSync:a,sessionStorageSync:l}=new class{constructor(){this.localStorageSync={},this.sessionStorageSync={},this.defineSyncProperties(o,i.local),this.defineSyncProperties(r,i.session)}defineSyncProperties(e,t){const n=this.getStorage(t);for(let s of e)Object.defineProperty(t===i.local?this.localStorageSync:this.sessionStorageSync,s.name,{get(){try{if("language"===s.name)return s.default;const e=n.getItem(s.name)||s.default;if(!s.isJson)return s.modifier?s.modifier(e):e;const t=e?JSON.parse(e):e;return s.modifier?s.modifier(t):t}catch(e){return s.default}},set(e){n.setItem(s.name,s.isJson?JSON.stringify(e):e)}})}getStorage(e){switch(e){case i.local:return localStorage;case i.session:return sessionStorage}}};class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s._n||"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.apiPrefix=e,this.baseUrl=t,this.headers=n,this.baseApi="",this.storeToken=l.privateToken,this.assocaiteToken=a.token,this.additionalHeaders=null,this.clearHeader=!0,this.baseApi=this.baseUrl+this.apiPrefix||""}getAuthHeader(){return this.headers||this.buildHeaders(this.storeToken,this.assocaiteToken)}setAdditionalHeaders(e){this.additionalHeaders=e}removeDefaultHeader(){this.clearHeader=!1}buildHeaders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)},...t&&{"Associate-Authorization":"".concat(t)},...this.additionalHeaders}}getUrl(e){return"".concat(this.baseApi).concat(e)}handleResponse(e){if(!e.ok)throw console.error("Error response:",e),new Error("Network response was not ok");return e.json()}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getAuthHeader();return fetch(this.getUrl(e),{headers:t}).then(this.handleResponse)}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getAuthHeader();return fetch(this.getUrl(e),{method:"POST",headers:n,redirect:"follow",cache:"no-cache",body:JSON.stringify(t)}).then(this.handleResponse).catch((e=>console.log(e)))}put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getAuthHeader();return fetch(this.getUrl(e),{method:"PUT",headers:n,redirect:"follow",cache:"no-cache",body:JSON.stringify(t)}).then(this.handleResponse)}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getAuthHeader();return fetch(this.getUrl(e),{headers:t}).then(this.handleResponse)}}const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.YO,e)},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.Uc,e)},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.dE,e)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.Tc,e)},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.E8,e)},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.R2,e)},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.Ic,e)},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").get(s.gY,e)},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").post(s.pS,e)},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h("/api").post(s.IU,e)}},7098:(e,t,n)=>{n.d(t,{E8:()=>a,ED:()=>g,IU:()=>k,Ic:()=>S,R2:()=>p,Tc:()=>v,Uc:()=>i,YO:()=>r,Z7:()=>u,_n:()=>s,dE:()=>m,gY:()=>w,jV:()=>h,pS:()=>y,uT:()=>f,uW:()=>c});const s="http://3.209.214.176",o=s+"/api/uploads/",r="/colors-variants",i="/colors-palettes",a="/mannequins",l=o+"mannequins/",h=l+"fronts/",c=l+"backs/",d=o+"prints/",g=d+"highs/",u=d+"previews/",p="/silhouettes-types",f=o+"silhouettes/",m="/prints-variants",v="/prints-palettes",S="/sizes",w="/garments",y="/garment",k="/search-garment"}}]);
//# sourceMappingURL=161.6dbfd475.chunk.js.map